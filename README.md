# VoiceHub - æ ¡å›­å¹¿æ’­ç«™ç‚¹æ­Œç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨Nuxt 4å…¨æ ˆæ¡†æ¶å¼€å‘çš„ç°ä»£åŒ–æ ¡å›­å¹¿æ’­ç«™ç‚¹æ­Œç®¡ç†ç³»ç»Ÿã€‚ç³»ç»Ÿæä¾›å®Œæ•´çš„ç‚¹æ­Œã€æŠ•ç¥¨ã€æ’æœŸç®¡ç†ã€é€šçŸ¥æ¨é€ã€æ•°æ®åˆ†æã€æƒé™æ§åˆ¶å’Œæ•°æ®åº“ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒå¤šè§’è‰²æƒé™ç®¡ç†å’Œçµæ´»çš„ç³»ç»Ÿé…ç½®ã€‚

## é¡¹ç›®æˆªå›¾
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/fef6970e-95eb-4cab-a11f-db4e71fc87b5" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/f76e912c-1263-424b-b379-72321de205f7" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/b5de5880-6635-4698-9fd9-dbea9642f06a" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/05472008-57d5-4586-b7ca-572bff8a30ae" />
<img width="1920" height="1080" alt="image" src="https://github.com/user-attachments/assets/c30f2e5a-4cc8-48cb-aca2-4d41daeaaaf8" />

## ä¸»è¦åŠŸèƒ½

### ğŸµ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½ç‚¹æ­Œç³»ç»Ÿ**ï¼šç”¨æˆ·å¯ä»¥ç‚¹æ­Œæˆ–ç»™å·²æœ‰æ­Œæ›²æŠ•ç¥¨ï¼Œæ”¯æŒç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹å’Œå“”å“©å“”å“©æœç´¢ï¼Œå¯é€‰æ‹©æœŸæœ›æ’­å‡ºæ—¶æ®µ
- **å¤šå¹³å°ç™»å½•æ”¯æŒ**ï¼š
  - **ç½‘æ˜“äº‘éŸ³ä¹ç™»å½•**ï¼šæ”¯æŒæ‰«ç ç™»å½•ï¼Œç™»å½•åå¯æœç´¢ä¸ªäººæ­Œå•ã€æ”¶è—åŠæ’­å®¢ç”µå°å†…å®¹
    - **ä¸€é”®æ·»åŠ åˆ°æ­Œå•**ï¼šç™»å½•åæ”¯æŒå°†æ’æœŸä¸­çš„ç½‘æ˜“äº‘éŸ³ä¹æ­Œæ›²ä¸€é”®æ·»åŠ åˆ°ä¸ªäººæ­Œå•
    - **ä»æ­Œå•æŠ•ç¨¿**ï¼šæ”¯æŒä»ä¸ªäººæ­Œå•ä¸­ç›´æ¥æŠ•ç¨¿æ­Œæ›²åˆ°ç³»ç»Ÿ
    - **ä»æœ€è¿‘æ’­æ”¾æŠ•ç¨¿**ï¼šæ”¯æŒä»æœ€è¿‘æ’­æ”¾è®°å½•ä¸­æŠ•ç¨¿æ­Œæ›²
    - **æ’­å®¢ç”µå°æŠ•ç¨¿**ï¼šæ”¯æŒæœç´¢å’ŒæŠ•ç¨¿æ’­å®¢ç”µå°å†…å®¹
- **æŠ•ç¨¿é™é¢ç®¡ç†**ï¼šçµæ´»é…ç½®ç”¨æˆ·æŠ•ç¨¿é™åˆ¶ï¼Œæ”¯æŒæŒ‰æ—¶é—´æ®µã€ç”¨æˆ·è§’è‰²è®¾ç½®ä¸åŒçš„æŠ•ç¨¿é¢åº¦ï¼Œæœ‰æ•ˆæ§åˆ¶ç³»ç»Ÿè´Ÿè½½
- **æ­Œæ›²å»é‡åŠŸèƒ½**ï¼šæ™ºèƒ½è¯†åˆ«é‡å¤æ­Œæ›²ï¼Œä¼˜åŒ–æ­Œæ›²åº“ç®¡ç†ï¼Œé¿å…é‡å¤æ’­æ”¾
- **æ­Œæ›²ç®¡ç†**ï¼šæŒ‰çƒ­åº¦æ’åºï¼Œé¿å…é‡å¤æ’­æ”¾ï¼ŒåŠ¨æ€URLé˜²æ­¢é“¾æ¥è¿‡æœŸï¼Œæ”¯æŒé»‘åå•ç®¡ç†
- **éŸ³ä¹æ’­æ”¾å™¨**ï¼šå†…ç½®éŸ³ä¹æ’­æ”¾å™¨ï¼Œæ”¯æŒè¿›åº¦æ§åˆ¶å’ŒéŸ³è´¨å®æ—¶åˆ‡æ¢
- **éŸ³è´¨åˆ‡æ¢**ï¼šæ”¯æŒå¤šç§éŸ³è´¨é€‰æ‹©ï¼ˆæ ‡å‡†ã€HQã€æ— æŸã€Hi-Resç­‰ï¼‰ï¼ŒåŠ¨æ€è·å–æœ€æ–°æ’­æ”¾é“¾æ¥
- **éŸ³ä¹ä¸‹è½½åŠŸèƒ½**ï¼šæ”¯æŒç®¡ç†å‘˜ä¸‹è½½æ­Œæ›²åˆ°æœ¬åœ°ï¼Œæä¾›å¤šç§éŸ³è´¨é€‰æ‹©å’Œæ‰¹é‡ä¸‹è½½
- **æ­Œæ›²é‡æ’­åŠŸèƒ½**ï¼šæ”¯æŒç”¨æˆ·å¯¹å·²æ’­æ”¾è¿‡çš„æ­Œæ›²å‘èµ·é‡æ’­ç”³è¯·ï¼Œæ”¯æŒæŸ¥çœ‹ç”³è¯·è®°å½•å’Œæ’¤å›ç”³è¯·

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†
- **ç”¨æˆ·ç®¡ç†**ï¼šç®¡ç†å‘˜æ·»åŠ ç”¨æˆ·ï¼Œæ”¯æŒæŒ‰å¹´çº§ç­çº§åˆ†ç±»
- **æƒé™æ§åˆ¶**ï¼šå¤šçº§æƒé™ç®¡ç†ï¼Œæ”¯æŒæ™®é€šç”¨æˆ·ã€ç®¡ç†å‘˜ã€è¶…çº§ç®¡ç†å‘˜
- **é»‘åå•ç®¡ç†**ï¼šæ”¯æŒæ­Œæ›²å’Œè‰ºæœ¯å®¶é»‘åå•ï¼Œè‡ªåŠ¨è¿‡æ»¤ä¸å½“å†…å®¹

### ğŸ“… æ’æœŸç®¡ç†
- **æ’æœŸç®¡ç†**ï¼šç®¡ç†å‘˜å¯ä»¥é€šè¿‡æ‹–æ‹½ç•Œé¢è¿›è¡Œæ­Œæ›²æ’æœŸå’Œé¡ºåºç®¡ç†
- **æ’æœŸè‰ç¨¿**ï¼šæ”¯æŒä¿å­˜æ’æœŸè‰ç¨¿åŠŸèƒ½ï¼Œå…è®¸ç®¡ç†å‘˜åˆ†æ­¥å®Œæˆæ’æœŸå®‰æ’
  - è‰ç¨¿çŠ¶æ€ä¸å½±å“å…¬å¼€å±•ç¤ºï¼Œå¯éšæ—¶ä¿®æ”¹å’Œå®Œå–„
  - æ”¯æŒè‰ç¨¿å‘å¸ƒä¸ºæ­£å¼æ’æœŸï¼Œç¡®ä¿æ’æœŸè´¨é‡
- **æ’­å‡ºæ—¶æ®µ**ï¼šçµæ´»é…ç½®æ’­å‡ºæ—¶æ®µï¼Œ**æ”¯æŒå¤šæ—¶æ®µç®¡ç†**
- **æ‰“å°æ’æœŸ**ï¼šæ”¯æŒè‡ªå®šä¹‰çº¸å¼ å¤§å°ã€å†…å®¹é€‰æ‹©ã€ç¼–å†™å¤‡æ³¨å’ŒPDFå¯¼å‡ºçš„æ‰“å°åŠŸèƒ½
- **å­¦æœŸç®¡ç†**ï¼šç®¡ç†å‘˜å¯è®¾ç½®å½“å‰å­¦æœŸï¼Œè‡ªåŠ¨å…³è”ç‚¹æ­Œè®°å½•
- **å…¬å¼€å±•ç¤º**ï¼šå…¬å¼€å±•ç¤ºæ­Œæ›²æ’­æ”¾æ’æœŸï¼ŒæŒ‰æ—¥æœŸåˆ†ç»„å±•ç¤º

### ğŸ”” é€šçŸ¥ç³»ç»Ÿ
- **å®æ—¶é€šçŸ¥**ï¼šæ­Œæ›²è¢«é€‰ä¸­ã€æŠ•ç¥¨å’Œç³»ç»Ÿé€šçŸ¥
- **é€šçŸ¥è®¾ç½®**ï¼šç”¨æˆ·å¯è‡ªå®šä¹‰é€šçŸ¥åå¥½ï¼Œæ”¯æŒç‹¬ç«‹é¡µé¢è®¾ç½®
- **æ‰¹é‡é€šçŸ¥**ï¼šç®¡ç†å‘˜å¯å‘ç‰¹å®šç”¨æˆ·ç¾¤ä½“å‘é€é€šçŸ¥
- **ç¤¾äº¤è´¦å·ç»‘å®š**ï¼šæ”¯æŒç»‘å®šMeoWç­‰è´¦å·ï¼ŒåŒæ­¥æ¨é€é€šçŸ¥åˆ°å¤–éƒ¨å¹³å°
- **éªŒè¯ç éªŒè¯**ï¼šå®‰å…¨çš„éªŒè¯ç éªŒè¯æœºåˆ¶ï¼Œæ”¯æŒåŠ¨æ€æ ·å¼åé¦ˆ

### ğŸ’¾ æ•°æ®ç®¡ç†
- **æ•°æ®åº“å¤‡ä»½**ï¼šå®Œæ•´çš„æ•°æ®åº“å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½
- **æ•°æ®åº“é‡ç½®**ï¼šæ”¯æŒå®‰å…¨çš„æ•°æ®åº“é‡ç½®æ“ä½œï¼Œå¯é€‰æ‹©æ€§ä¿ç•™ç”¨æˆ·æ•°æ®æˆ–å®Œå…¨é‡ç½®
- **æ–‡ä»¶å¯¼å…¥å¯¼å‡º**ï¼šæ”¯æŒå¤‡ä»½æ–‡ä»¶çš„ä¸Šä¼ ã€ä¸‹è½½å’Œç®¡ç†
- **æ•°æ®åº“è‡ªæ£€**ï¼šè‡ªåŠ¨æ•°æ®åº“éªŒè¯å’Œä¿®å¤æœºåˆ¶ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§

### ğŸ¨ ç”¨æˆ·ä½“éªŒ
- **ç°ä»£UI**ï¼šå“åº”å¼è®¾è®¡ï¼Œæ·±è‰²ä¸»é¢˜ï¼Œæµç•…çš„åŠ¨ç”»æ•ˆæœ
- **ç»ç’ƒæ€è®¾è®¡**ï¼šç°ä»£åŒ–çš„è§†è§‰æ•ˆæœå’Œäº¤äº’ä½“éªŒ
- **äº¤äº’åé¦ˆ**ï¼šhoveræ•ˆæœï¼Œç‚¹å‡»åé¦ˆï¼ŒçŠ¶æ€å˜åŒ–åŠ¨ç”»
- **ç§»åŠ¨ç«¯ä¼˜åŒ–**ï¼šé€‚é…æ”¯æŒç§»åŠ¨è®¾å¤‡è®¿é—®ï¼Œè§¦æ‘¸å‹å¥½çš„äº¤äº’è®¾è®¡

## æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **Nuxt 4**ï¼šVue.jså…¨æ ˆæ¡†æ¶ï¼Œæä¾›SSRå’ŒSPAæ”¯æŒ
- **Vue 3**ï¼šå“åº”å¼å‰ç«¯æ¡†æ¶ï¼Œä½¿ç”¨Composition API
- **TypeScript**ï¼šç±»å‹å®‰å…¨çš„JavaScriptï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰
- **Tailwind CSS**ï¼šå®ç”¨ä¼˜å…ˆçš„CSSæ¡†æ¶ï¼Œå“åº”å¼è®¾è®¡
- **Vue Router**ï¼šå‰ç«¯è·¯ç”±ç®¡ç†

### åç«¯æŠ€æœ¯
- **Nuxt Server API**ï¼šæœåŠ¡ç«¯APIè·¯ç”±ï¼Œæ”¯æŒä¸­é—´ä»¶å’Œè®¤è¯
- **Drizzle ORM**ï¼šç°ä»£åŒ–æ•°æ®åº“ORMï¼Œæä¾›ç±»å‹å®‰å…¨çš„æ•°æ®åº“æ“ä½œå’Œé«˜æ€§èƒ½æŸ¥è¯¢
- **Neon Database**ï¼šServerless PostgreSQLæ•°æ®åº“ï¼Œæ”¯æŒè‡ªåŠ¨å¯åœå’Œæ— ç¼æ‰©å±•
- **PostgreSQL**ï¼šå…³ç³»å‹æ•°æ®åº“ï¼Œæ”¯æŒå¤æ‚æŸ¥è¯¢å’Œäº‹åŠ¡å¤„ç†
- **Redis**ï¼šé«˜æ€§èƒ½ç¼“å­˜æ•°æ®åº“ï¼Œæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦ï¼ˆå¯é€‰ï¼Œæš‚ä¸æ¨èï¼Œå¯èƒ½å­˜åœ¨æ½œåœ¨çš„é—®é¢˜ï¼‰
- **JWT**ï¼šæ ‡å‡†JWTè®¤è¯æœºåˆ¶ï¼Œæ”¯æŒ24å°æ—¶tokenæœ‰æ•ˆæœŸ
- **bcrypt**ï¼šå¯†ç åŠ å¯†ï¼Œå®‰å…¨çš„å“ˆå¸Œç®—æ³•
- **Multer**ï¼šæ–‡ä»¶ä¸Šä¼ å¤„ç†ï¼Œæ”¯æŒå¤šç§å­˜å‚¨æ–¹å¼

## ç³»ç»Ÿæ¶æ„

ç³»ç»Ÿé‡‡ç”¨äº†ç°ä»£åŒ–çš„ Serverless å…¨æ ˆæ¶æ„ï¼š
- **å‰ç«¯**ï¼šä½¿ç”¨ Nuxt 4 + Vue 3 ç»„åˆå¼APIæ„å»ºå“åº”å¼ç”¨æˆ·ç•Œé¢
- **åç«¯**ï¼šä½¿ç”¨ Nuxt Server API æ„å»º RESTful API æœåŠ¡
- **æ•°æ®åº“**ï¼šä½¿ç”¨ Drizzle ORM + Neon Databaseï¼Œæä¾›ç±»å‹å®‰å…¨å’Œé«˜æ€§èƒ½çš„æ•°æ®åº“æ“ä½œ
- **è®¤è¯**ï¼šæ ‡å‡† JWT è®¤è¯ç³»ç»Ÿ
- **ç¼“å­˜**ï¼šå¯é€‰çš„ Redis ç¼“å­˜å±‚ï¼Œæå‡ç³»ç»Ÿå“åº”é€Ÿåº¦
- **éƒ¨ç½²**ï¼šæ”¯æŒ Vercelã€Netlifyã€EdgeOne ç­‰ Serverless å¹³å°ä¸€é”®éƒ¨ç½²

## éƒ¨ç½²æŒ‡å—

### ä¸€é”®éƒ¨ç½²

æœ¬é¡¹ç›®å¯ä»¥ä¸€é”®éƒ¨ç½²åˆ°Vercel/Netlify/EdgeOneå¹³å°ï¼š

[![Deploy to Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Flaoshuikaixue%2FVoiceHub&env=DATABASE_URL,JWT_SECRET,NODE_ENV&envDefaults=%7B%22NODE_ENV%22%3A%22production%22%7D&envDescription=%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AF%B4%E6%98%8E&envLink=https%3A%2F%2Fgithub.com%2Flaoshuikaixue%2FVoiceHub%23%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E8%AF%B4%E6%98%8E)
[![Deploy to Netlify](https://www.netlify.com/img/deploy/button.svg)](https://app.netlify.com/start/deploy?repository=https://github.com/laoshuikaixue/VoiceHub)
[![Deploy to EdgeOne Pages](https://cdnstatic.tencentcs.com/edgeone/pages/deploy.svg)](https://edgeone.ai/pages/new?repository-url=https://github.com/laoshuikaixue/VoiceHub&env=DATABASE_URL,JWT_SECRET&env-description=%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9C%B0%E5%9D%80%E3%80%81JWT%E5%AF%86%E9%92%A5)

åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œéœ€è¦è¾“å…¥å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š
1. `DATABASE_URL`ï¼šPostgreSQLæ•°æ®åº“è¿æ¥åœ°å€
2. `JWT_SECRET`ï¼šJWTä»¤ç‰Œç­¾åå¯†é’¥

æ‚¨å¯ä»¥å‚è€ƒ[ç¯å¢ƒå˜é‡è¯´æ˜](#ç¯å¢ƒå˜é‡è¯´æ˜)äº†è§£æ›´å¤šè¯¦æƒ…ã€‚

### Claw éƒ¨ç½²
[![Claw](https://ap-southeast-1.run.claw.cloud/logo.svg)](https://ap-southeast-1.run.claw.cloud/)

1. **ç‚¹å‡»éƒ¨ç½²æŒ‰é’®**ï¼šé€‰æ‹©ä¸Šæ–¹çš„ Claw éƒ¨ç½²æŒ‰é’®

2. **æ‰“å¼€åº”ç”¨ç¨‹åºå¯åŠ¨æ¿**ï¼šæ‰“å¼€  App Launchpad ï¼ˆåº”ç”¨ç¨‹åºå¯åŠ¨æ¿ï¼‰

3. **åˆ›å»ºåº”ç”¨**ï¼šé€‰ Create App ï¼ˆåˆ›å»ºåº”ç”¨ï¼‰

4. **ç›¸å…³é…ç½®**ï¼š

   ```
   Application Nameï¼šVoiceHub æˆ– å…¶å®ƒ
   Image Name: ghcr.io/laoshuikaixue/voicehub:latest
   Usageï¼šæŒ‰éœ€è°ƒæ•´
   Networkï¼š3000 ï¼Œå¼€ Public Access
   Environment Variablesï¼š
      DATABASE_URL=postgresql://user:password@postgres:5432/voicehub
      JWT_SECRET=your-jwt-secret-here
      # æŒ‰å®é™…æƒ…å†µå¡«å†™
   ```

5. **ç­‰å¾…éƒ¨ç½²**ï¼šå¹³å°ä¼šè‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²åº”ç”¨

6. **è®¿é—®åº”ç”¨**ï¼šéƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†è·å¾—ä¸€ä¸ªå¯è®¿é—®çš„ URL

### å…¶ä»–å¹³å°éƒ¨ç½²

1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
   ```bash
   npm run build
   ```

2. è®¾ç½®ç¯å¢ƒå˜é‡
   ç¡®ä¿è®¾ç½®äº†å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼ˆDATABASE_URLå’ŒJWT_SECRETï¼‰

3. å¯åŠ¨åº”ç”¨
   ```bash
   npm run start
   ```
### Docker éƒ¨ç½²

æœ¬åœ°æ„å»º

```
git clone https://github.com/laoshuikaixue/VoiceHub.git
cd VoiceHub
docker build -t voicehub .
docker run voicehub
```

æˆ–ä½¿ç”¨ Github çš„é•œåƒæº

```
docker run \
  -p 3000:3000 \
  -e JWT_SECRET=your-very-secure-jwt-secret-key \
  -e DATABASE_URL="postgresql://username:password@host:port/database?sslmode=require" \
  ghcr.io/laoshuikaixue/voicehub:latest
```

æˆ–ä½¿ç”¨ å—äº¬å¤§å­¦ çš„é•œåƒ

```
docker run \
  -p 3000:3000 \
  -e JWT_SECRET=your-very-secure-jwt-secret-key \
  -e DATABASE_URL="postgresql://username:password@host:port/database?sslmode=require" \
  ghcr.nju.edu.cn/laoshuikaixue/voicehub:latest
```

### Docker-compose éƒ¨ç½²

æœ¬åœ°æ„å»ºï¼ˆä¸å« redis æ•°æ®åº“ï¼‰

```
git clone https://github.com/laoshuikaixue/VoiceHub.git
cd VoiceHub
docker-compose up
```

å…¶ä»–è¯·ç§»æ­¥ [docker-composeç›®å½•](/docker-compose)

## å®‰è£…ä¸è¿è¡Œ

### å‰ææ¡ä»¶
- Node.js 20+
- PostgreSQLæ•°æ®åº“ï¼ˆæ¨èNeonï¼‰
- Redisæ•°æ®åº“ï¼ˆå¯é€‰ï¼Œæš‚ä¸æ¨èï¼Œå¯èƒ½å­˜åœ¨æ½œåœ¨çš„é—®é¢˜ï¼‰

### å®‰è£…æ­¥éª¤

1. å…‹éš†ä»“åº“
```bash
git clone https://github.com/laoshuikaixue/VoiceHub.git
cd VoiceHub
```

2. å®‰è£…ä¾èµ–
```bash
npm install
```

3. è®¾ç½®ç¯å¢ƒå˜é‡
å¤åˆ¶`.env.example`æ–‡ä»¶å¹¶é‡å‘½åä¸º`.env`ï¼Œç„¶åä¿®æ”¹å…¶ä¸­çš„é…ç½®ï¼š
```bash
cp .env.example .env
```

4. ç¼–è¾‘`.env`æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥å’ŒJWTå¯†é’¥ï¼š
```
DATABASE_URL="postgresql://username:password@host:port/database?sslmode=require"
REDIS_URL="redis://username:password@host:port"
JWT_SECRET="your-very-secure-jwt-secret-key"
```

5. åˆå§‹åŒ–æ•°æ®åº“å’Œç”Ÿæˆæ•°æ®åº“æ¨¡å¼
```bash
npm run db:generate
npm run db:migrate
```

æˆ–è€…ä½¿ç”¨ä¸€é”®è®¾ç½®å‘½ä»¤ï¼š
```bash
npm run deploy
```

6. åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ï¼ˆå¦‚æœéœ€è¦ï¼‰
```bash
# åˆ›å»ºè¶…çº§ç®¡ç†å‘˜è´¦æˆ·
npm run create-admin
```

7. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

8. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

9. è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
```bash
npm start
```

## ç³»ç»Ÿé…ç½®

### ç«™ç‚¹é…ç½®ç®¡ç†
VoiceHub æä¾›äº†å®Œæ•´çš„ç«™ç‚¹é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒé€šè¿‡ç®¡ç†åå°åŠ¨æ€é…ç½®ç³»ç»Ÿå‚æ•°ï¼š

#### åŸºæœ¬ä¿¡æ¯é…ç½®
- **ç«™ç‚¹æ ‡é¢˜**ï¼šè‡ªå®šä¹‰ç³»ç»Ÿæ˜¾ç¤ºåç§°
- **ç«™ç‚¹æè¿°**ï¼šç³»ç»ŸåŠŸèƒ½æè¿°å’Œä»‹ç»
- **ç«™ç‚¹Logo**ï¼šæ”¯æŒä¸Šä¼ è‡ªå®šä¹‰Logoå›¾ç‰‡

#### æ’­æ”¾æ—¶æ®µç®¡ç†
- **å¤šæ—¶æ®µæ”¯æŒ**ï¼šæ”¯æŒé…ç½®å¤šä¸ªæ’­æ”¾æ—¶æ®µï¼ˆå¦‚åˆé—´ã€æ™šé—´ï¼‰
- **æ—¶æ®µåç§°**ï¼šè‡ªå®šä¹‰æ—¶æ®µæ˜¾ç¤ºåç§°
- **å¼€å§‹/ç»“æŸæ—¶é—´**ï¼šç²¾ç¡®åˆ°åˆ†é’Ÿçš„æ—¶é—´æ§åˆ¶
- **æ—¶æ®µæ’åº**ï¼šæ”¯æŒæ‹–æ‹½è°ƒæ•´æ—¶æ®µæ˜¾ç¤ºé¡ºåº

#### é€šçŸ¥ç³»ç»Ÿé…ç½®
- **é€šçŸ¥å¼€å…³**ï¼šæ§åˆ¶ç³»ç»Ÿé€šçŸ¥åŠŸèƒ½çš„å¯ç”¨çŠ¶æ€
- **é€šçŸ¥ç±»å‹**ï¼šé…ç½®ä¸åŒç±»å‹é€šçŸ¥çš„å‘é€è§„åˆ™
- **é€šçŸ¥æ¨¡æ¿**ï¼šè‡ªå®šä¹‰é€šçŸ¥æ¶ˆæ¯çš„æ ¼å¼å’Œå†…å®¹

### æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤
ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„æ•°æ®å¤‡ä»½å’Œæ¢å¤è§£å†³æ–¹æ¡ˆï¼š

#### å¤‡ä»½åŠŸèƒ½
- **å®Œæ•´å¤‡ä»½**ï¼šåŒ…å«æ‰€æœ‰æ•°æ®è¡¨çš„å®Œæ•´ç³»ç»Ÿå¤‡ä»½
- **ç”¨æˆ·æ•°æ®å¤‡ä»½**ï¼šä»…å¤‡ä»½ç”¨æˆ·ç›¸å…³æ•°æ®ï¼ˆç”¨æˆ·ã€æ­Œæ›²ã€æŠ•ç¥¨ç­‰ï¼‰
- **å¢é‡å¤‡ä»½**ï¼šæ”¯æŒåŸºäºæ—¶é—´çš„å¢é‡å¤‡ä»½ç­–ç•¥

#### æ¢å¤åŠŸèƒ½
- **åˆå¹¶æ¨¡å¼**ï¼šå°†å¤‡ä»½æ•°æ®ä¸ç°æœ‰æ•°æ®åˆå¹¶ï¼Œä¿ç•™ç°æœ‰æ•°æ®
- **æ›¿æ¢æ¨¡å¼**ï¼šå®Œå…¨æ›¿æ¢ç°æœ‰æ•°æ®ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
- **æ•°æ®éªŒè¯**ï¼šæ¢å¤å‰è‡ªåŠ¨éªŒè¯å¤‡ä»½æ–‡ä»¶å®Œæ•´æ€§

### æƒé™ä¸è§’è‰²ç®¡ç†
VoiceHub å®ç°äº†ç»†ç²’åº¦çš„æƒé™æ§åˆ¶ç³»ç»Ÿï¼š

#### è§’è‰²ç±»å‹
- **è¶…çº§ç®¡ç†å‘˜ (SUPER_ADMIN)**ï¼šæ‹¥æœ‰æ‰€æœ‰ç³»ç»Ÿæƒé™ï¼ŒåŒ…æ‹¬ç”¨æˆ·ç®¡ç†ã€ç³»ç»Ÿé…ç½®ã€æ•°æ®åº“ç®¡ç†ç­‰
- **ç®¡ç†å‘˜ (ADMIN)**ï¼šæ‹¥æœ‰æ—¥å¸¸ç®¡ç†æƒé™ï¼Œå¦‚ç”¨æˆ·ç®¡ç†ã€æ’æœŸç®¡ç†ã€æ­Œæ›²ç®¡ç†ã€ç³»ç»Ÿé…ç½®ç­‰
- **æ­Œæ›²ç®¡ç†å‘˜ (SONG_ADMIN)**ï¼šä¸“é—¨è´Ÿè´£æ­Œæ›²ç›¸å…³ç®¡ç†ï¼ŒåŒ…æ‹¬æ’æœŸç®¡ç†ã€æ­Œæ›²ç®¡ç†ã€æ‰“å°æ’æœŸç­‰
- **æ™®é€šç”¨æˆ· (USER)**ï¼šåŸºæœ¬çš„ç‚¹æ­Œã€æŠ•ç¥¨å’ŒæŸ¥çœ‹æƒé™

#### æƒé™åˆ†ç±»
- **å†…å®¹ç®¡ç†æƒé™**ï¼šæ’æœŸç®¡ç†ã€æ­Œæ›²ç®¡ç†ã€æ‰“å°æ’æœŸç­‰
- **ç”¨æˆ·ç®¡ç†æƒé™**ï¼šåˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤ç”¨æˆ·è´¦æˆ·
- **ç³»ç»Ÿç®¡ç†æƒé™**ï¼šé€šçŸ¥ç®¡ç†ã€æ’­æ”¾æ—¶é—´ç®¡ç†ã€å­¦æœŸç®¡ç†ã€é»‘åå•ç®¡ç†ã€ç«™ç‚¹é…ç½®ã€æ•°æ®åº“ç®¡ç†ç­‰

#### æƒé™ç»§æ‰¿ä¸åˆ†é…
- **SUPER_ADMIN**ï¼šæ‹¥æœ‰æ‰€æœ‰æƒé™
- **ADMIN**ï¼šæ‹¥æœ‰é™¤æ•°æ®åº“ç®¡ç†å¤–çš„æ‰€æœ‰æƒé™
- **SONG_ADMIN**ï¼šæ‹¥æœ‰å†…å®¹ç®¡ç†ç›¸å…³æƒé™ï¼ˆæ’æœŸã€æ­Œæ›²ã€æ‰“å°ï¼‰
- **USER**ï¼šä»…æ‹¥æœ‰åŸºæœ¬çš„ç‚¹æ­Œå’ŒæŸ¥çœ‹æƒé™

#### æƒé™éªŒè¯
- å‰ç«¯åŸºäºè§’è‰²åŠ¨æ€æ˜¾ç¤ºç•Œé¢å…ƒç´ å’Œèœå•
- åç«¯APIè¿›è¡Œä¸¥æ ¼çš„æƒé™éªŒè¯
- æ”¯æŒé¡µé¢çº§å’ŒåŠŸèƒ½çº§çš„æƒé™æ§åˆ¶

## ç¯å¢ƒå˜é‡è¯´æ˜

| å˜é‡å          | å¿…å¡« | è¯´æ˜                              | ç¤ºä¾‹å€¼                                                                 |
|--------------|----|---------------------------------|---------------------------------------------------------------------|
| DATABASE_URL | æ˜¯  | PostgreSQLæ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²              | `postgresql://username:password@host:port/database?sslmode=require` |
| JWT_SECRET   | æ˜¯  | JWTä»¤ç‰Œç­¾åå¯†é’¥ï¼Œå»ºè®®ä½¿ç”¨å¼ºéšæœºå­—ç¬¦ä¸²            | `your-very-secure-jwt-secret-key`                                   |
| NODE_ENV     | å¦  | è¿è¡Œç¯å¢ƒï¼Œdevelopmentæˆ–production     | `production`                                                        |
| REDIS_URL    | å¦  | Redisç¼“å­˜æœåŠ¡è¿æ¥å­—ç¬¦ä¸²ï¼Œå¡«å†™åè‡ªåŠ¨å¯ç”¨Redisç¼“å­˜åŠŸèƒ½ | `redis://default:password@host:port`                                |
| NITRO_PRESET | å¦  | Nitroé¢„è®¾                         | `vercel`                                                            |

## é¡¹ç›®ç»“æ„

```
VoiceHub/
â”œâ”€â”€ app/                       # Nuxt 4 åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ app.vue                # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ assets/                # é™æ€èµ„æºç›®å½•
â”‚   â”‚   â””â”€â”€ css/               # CSSæ ·å¼æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ components.css      # ç»„ä»¶æ ·å¼
â”‚   â”‚       â”œâ”€â”€ lyric-player.module.css  # æ­Œè¯æ’­æ”¾å™¨æ ·å¼
â”‚   â”‚       â”œâ”€â”€ main.css           # ä¸»æ ·å¼æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ mobile-admin.css   # ç§»åŠ¨ç«¯ç®¡ç†æ ·å¼
â”‚   â”‚       â”œâ”€â”€ print-fix.css      # æ‰“å°æ ·å¼ä¿®å¤
â”‚   â”‚       â”œâ”€â”€ sf-pro-icons.css   # SF Proå›¾æ ‡å­—ä½“
â”‚   â”‚       â”œâ”€â”€ theme-protection.css # ä¸»é¢˜ä¿æŠ¤æ ·å¼
â”‚   â”‚       â”œâ”€â”€ transitions.css    # è¿‡æ¸¡åŠ¨ç”»æ ·å¼
â”‚   â”‚       â”œâ”€â”€ variables.css      # CSSå˜é‡å®šä¹‰
â”‚   â”‚       â””â”€â”€ year-review.css    # å¹´åº¦å›é¡¾æ ·å¼
â”‚   â”œâ”€â”€ components/            # Vueç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ Admin/             # ç®¡ç†å‘˜åŠŸèƒ½ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ApiKeyManager.vue      # APIå¯†é’¥ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ BackupManager.vue      # æ•°æ®åº“å¤‡ä»½ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ BatchUpdateModal.vue   # æ‰¹é‡æ›´æ–°æ¨¡æ€æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ BlacklistManager.vue   # é»‘åå•ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ DataAnalysisPanel.vue  # æ•°æ®åˆ†æé¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ DatabaseManager.vue    # æ•°æ®åº“ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ EmailTemplateManager.vue # é‚®ä»¶æ¨¡æ¿ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationSender.vue # é€šçŸ¥å‘é€ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ OverviewDashboard.vue  # ç®¡ç†æ¦‚è§ˆä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ PlayTimeManager.vue    # æ’­æ”¾æ—¶é—´ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestTimeManager.vue # ç‚¹æ­Œæ—¶é—´ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleForm.vue       # æ’æœŸè¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleItemPrint.vue  # æ’æœŸé¡¹ç›®æ‰“å°
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleManager.vue    # æ’æœŸç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ SchedulePrinter.vue    # æ’æœŸæ‰“å°åŠŸèƒ½
â”‚   â”‚   â”‚   â”œâ”€â”€ SemesterManager.vue    # å­¦æœŸç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.vue            # ç®¡ç†åå°ä¾§è¾¹æ 
â”‚   â”‚   â”‚   â”œâ”€â”€ SiteConfigManager.vue  # ç«™ç‚¹é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ SmtpManager.vue        # SMTPé‚®ä»¶æœåŠ¡ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ SongDownloadDialog.vue # æ­Œæ›²ä¸‹è½½å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ SongManagement.vue     # æ­Œæ›²ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserManager.vue        # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ UserSongsModal.vue     # ç”¨æˆ·æ­Œæ›²æŸ¥çœ‹å¼¹çª—
â”‚   â”‚   â”‚   â””â”€â”€ VotersModal.vue        # æŠ•ç¥¨äººå‘˜æŸ¥çœ‹å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ Auth/              # è®¤è¯ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Providers/     # ç¬¬ä¸‰æ–¹ç™»å½•æä¾›å•†ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Casdoor/   # Casdoorç™»å½•ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Icon.vue # Casdoorå›¾æ ‡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ GitHub/    # GitHubç™»å½•ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Icon.vue # GitHubå›¾æ ‡
â”‚   â”‚   â”‚   â”œâ”€â”€ ChangePasswordForm.vue # ä¿®æ”¹å¯†ç è¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.vue         # ç™»å½•è¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ OAuthBindingCard.vue  # OAuthç»‘å®šå¡ç‰‡
â”‚   â”‚   â”‚   â””â”€â”€ OAuthButtons.vue      # OAuthç™»å½•æŒ‰é’®ç»„
â”‚   â”‚   â”œâ”€â”€ Common/            # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ UserSearchModal.vue   # ç”¨æˆ·æœç´¢å¼¹çª—
â”‚   â”‚   â”œâ”€â”€ Notifications/     # é€šçŸ¥ç³»ç»Ÿç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ NotificationSettings.vue # é€šçŸ¥è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ Songs/             # æ­Œæ›²ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DuplicateSongModal.vue # é‡å¤æ­Œæ›²å¤„ç†å¯¹è¯æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ ImportSongsModal.vue   # å¯¼å…¥æ­Œæ›²å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ NeteaseLoginModal.vue  # ç½‘æ˜“äº‘éŸ³ä¹ç™»å½•å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ PlaylistSelectionModal.vue # æ­Œå•é€‰æ‹©å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ PodcastEpisodesModal.vue # æ’­å®¢èŠ‚ç›®å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ RecentSongsModal.vue   # æœ€è¿‘æ’­æ”¾å¼¹çª—
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestForm.vue        # ç‚¹æ­Œè¡¨å•
â”‚   â”‚   â”‚   â”œâ”€â”€ ScheduleList.vue       # æ’æœŸåˆ—è¡¨å±•ç¤º
â”‚   â”‚   â”‚   â””â”€â”€ SongList.vue           # æ­Œæ›²åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ UI/                # é€šç”¨UIç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioPlayer/   # éŸ³é¢‘æ’­æ”¾å™¨ç»„ä»¶æ¨¡å—
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AudioElement.vue   # éŸ³é¢‘å…ƒç´ ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PlayerControls.vue # æ’­æ”¾å™¨æ§åˆ¶ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PlayerInfo.vue     # æ’­æ”¾å™¨ä¿¡æ¯ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Common/        # é€šç”¨UIç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CustomSelect.vue   # è‡ªå®šä¹‰é€‰æ‹©å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DataTable.vue      # é€šç”¨æ•°æ®è¡¨æ ¼ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ErrorBoundary.vue  # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoadingState.vue   # åŠ è½½çŠ¶æ€ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SearchFilter.vue   # æœç´¢è¿‡æ»¤ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StatCard.vue       # ç»Ÿè®¡å¡ç‰‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AppleMusicLyrics.vue   # ç±»Apple Musicé£æ ¼æ­Œè¯æ˜¾ç¤ºç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AudioPlayer.vue        # ä¸»éŸ³é¢‘æ’­æ”¾å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ConfirmDialog.vue      # ç¡®è®¤å¯¹è¯æ¡†
â”‚   â”‚   â”‚   â”œâ”€â”€ Icon.vue               # å›¾æ ‡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ LyricsModal.vue        # å…¨å±æ­Œè¯æ¨¡æ€æ¡†ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ MarqueeText.vue        # æ»šåŠ¨æ–‡æœ¬æ˜¾ç¤ºç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Notification.vue       # å•ä¸ªé€šçŸ¥ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ NotificationContainer.vue # é€šçŸ¥å®¹å™¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PageTransition.vue     # é¡µé¢è¿‡æ¸¡åŠ¨ç”»
â”‚   â”‚   â”‚   â””â”€â”€ ProgressBar.vue        # è¿›åº¦æ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ year-review/       # å¹´åº¦å›é¡¾ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SiteFooter.vue         # ç«™ç‚¹é¡µè„š
â”‚   â”œâ”€â”€ composables/           # Vue 3 ç»„åˆå¼API
â”‚   â”‚   â”œâ”€â”€ useAdmin.ts         # ç®¡ç†å‘˜åŠŸèƒ½hooks
â”‚   â”‚   â”œâ”€â”€ useAudioPlayer.ts   # éŸ³é¢‘æ’­æ”¾å™¨hooks
â”‚   â”‚   â”œâ”€â”€ useAudioPlayerControl.ts # éŸ³é¢‘æ’­æ”¾å™¨æ§åˆ¶hooks
â”‚   â”‚   â”œâ”€â”€ useAudioPlayerEnhanced.ts # å¢å¼ºéŸ³é¢‘æ’­æ”¾å™¨hooks
â”‚   â”‚   â”œâ”€â”€ useAudioPlayerSync.ts # éŸ³é¢‘æ’­æ”¾å™¨åŒæ­¥hooks
â”‚   â”‚   â”œâ”€â”€ useAudioQuality.ts  # éŸ³è´¨ç®¡ç†hooks
â”‚   â”‚   â”œâ”€â”€ useAudioVisualizer.ts # éŸ³é¢‘å¯è§†åŒ–hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts          # è®¤è¯åŠŸèƒ½hooks
â”‚   â”‚   â”œâ”€â”€ useBackgroundRenderer.ts # èƒŒæ™¯æ¸²æŸ“hooks
â”‚   â”‚   â”œâ”€â”€ useErrorHandler.ts  # é”™è¯¯å¤„ç†hooks
â”‚   â”‚   â”œâ”€â”€ useLyricPlayer.ts   # ç±»Apple Musicé£æ ¼æ­Œè¯æ’­æ”¾å™¨hooks
â”‚   â”‚   â”œâ”€â”€ useLyrics.ts        # æ­Œè¯åŠŸèƒ½hooks
â”‚   â”‚   â”œâ”€â”€ useMediaSession.ts  # åª’ä½“ä¼šè¯API hooks
â”‚   â”‚   â”œâ”€â”€ useMusicSources.ts    # éŸ³ä¹æºç®¡ç†hooks
â”‚   â”‚   â”œâ”€â”€ useMusicWebSocket.ts  # éŸ³ä¹WebSocket hooks
â”‚   â”‚   â”œâ”€â”€ useNotifications.ts # é€šçŸ¥åŠŸèƒ½hooks
â”‚   â”‚   â”œâ”€â”€ usePermissions.ts   # æƒé™ç®¡ç†hooks
â”‚   â”‚   â”œâ”€â”€ useProgress.ts      # è¿›åº¦ç®¡ç†hooks
â”‚   â”‚   â”œâ”€â”€ useProgressEvents.ts # è¿›åº¦äº‹ä»¶hooks
â”‚   â”‚   â”œâ”€â”€ useRequestDedup.ts  # è¯·æ±‚å»é‡hooks
â”‚   â”‚   â”œâ”€â”€ useSemesters.ts     # å­¦æœŸç®¡ç†hooks
â”‚   â”‚   â”œâ”€â”€ useSiteConfig.js    # ç«™ç‚¹é…ç½®hooks
â”‚   â”‚   â”œâ”€â”€ useSongs.ts         # æ­Œæ›²ç®¡ç†hooks
â”‚   â”‚   â””â”€â”€ useToast.ts         # Toastæç¤ºhooks
â”‚   â”œâ”€â”€ drizzle/               # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ db.ts               # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ schema.ts           # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â””â”€â”€ migrations/         # æ•°æ®åº“è¿ç§»æ–‡ä»¶
â”‚   â”œâ”€â”€ layouts/               # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ default.vue         # é»˜è®¤å¸ƒå±€æ¨¡æ¿
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.global.ts      # å…¨å±€è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶ï¼ˆNuxt 4è·¯ç”±ï¼‰
â”‚   â”‚   â”œâ”€â”€ account/           # è´¦æˆ·ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ index.vue      # è´¦æˆ·ä¸­å¿ƒï¼ˆç»‘å®šç®¡ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ auth/              # è®¤è¯ç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ error.vue      # è®¤è¯é”™è¯¯é¡µé¢
â”‚   â”‚   â”œâ”€â”€ change-password.vue # ä¿®æ”¹å¯†ç é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard.vue       # ç”¨æˆ·ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ index.vue           # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ login.vue           # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ notification-settings.vue # é€šçŸ¥è®¾ç½®é¡µé¢
â”‚   â”‚   â””â”€â”€ year-review.vue     # å¹´åº¦å›é¡¾é¡µé¢
â”‚   â”œâ”€â”€ plugins/               # Nuxtæ’ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.client.ts      # å®¢æˆ·ç«¯è®¤è¯æ’ä»¶
â”‚   â”‚   â””â”€â”€ auth.server.ts      # æœåŠ¡ç«¯è®¤è¯æ’ä»¶
â”‚   â”œâ”€â”€ public/                # é™æ€æ–‡ä»¶ç›®å½•
â”‚   â”‚   â””â”€â”€ images/            # å›¾ç‰‡èµ„æº
â”‚   â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ server/                # æœåŠ¡ç«¯ä»£ç 
â”‚   â”œâ”€â”€ api/                # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ admin/          # ç®¡ç†å‘˜API
â”‚   â”‚   â”‚   â”œâ”€â”€ api-keys/            # APIå¯†é’¥ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].delete.ts   # åˆ é™¤APIå¯†é’¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].get.ts      # è·å–APIå¯†é’¥è¯¦æƒ…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].put.ts      # æ›´æ–°APIå¯†é’¥
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # è·å–APIå¯†é’¥åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # åˆ›å»ºAPIå¯†é’¥
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ logs.get.ts      # APIä½¿ç”¨æ—¥å¿—
â”‚   â”‚   â”‚   â”œâ”€â”€ backup/              # å¤‡ä»½ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ delete/          # åˆ é™¤å¤‡ä»½å­ç›®å½•
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ download/        # ä¸‹è½½å¤‡ä»½å­ç›®å½•
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ clear.post.ts    # æ¸…ç©ºå¤‡ä»½å†å²
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ download.get.ts  # ä¸‹è½½å¤‡ä»½
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ export.post.ts   # åˆ›å»ºå¤‡ä»½
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ list.get.ts      # è·å–å¤‡ä»½åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ restore-chunk.post.ts # æ¢å¤å¤‡ä»½åˆ†ç‰‡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ restore.post.ts  # æ¢å¤å¤‡ä»½
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ upload.post.ts   # ä¸Šä¼ å¤‡ä»½æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ blacklist/           # é»‘åå•ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].delete.ts   # åˆ é™¤é»‘åå•é¡¹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].patch.ts    # æ›´æ–°é»‘åå•é¡¹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # è·å–é»‘åå•åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.post.ts    # æ·»åŠ é»‘åå•é¡¹
â”‚   â”‚   â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ cleanup.post.ts  # æ•°æ®åº“æ¸…ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ performance.get.ts # æ•°æ®åº“æ€§èƒ½ç›‘æ§
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pool-status.get.ts # è¿æ¥æ± çŠ¶æ€
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ reset.post.ts    # é‡ç½®æ•°æ®åº“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ status.get.ts    # æ•°æ®åº“çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ db-status.get.ts     # æ•°æ®åº“çŠ¶æ€æ£€æŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ email-templates/     # é‚®ä»¶æ¨¡æ¿ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.delete.ts  # åˆ é™¤é‚®ä»¶æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # è·å–é‚®ä»¶æ¨¡æ¿åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # åˆ›å»º/æ›´æ–°é‚®ä»¶æ¨¡æ¿
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ preview.post.ts  # é¢„è§ˆé‚®ä»¶æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ fix-sequence.post.ts # ä¿®å¤æ•°æ®åº“åºåˆ—
â”‚   â”‚   â”‚   â”œâ”€â”€ mark-played.post.ts  # æ ‡è®°æ­Œæ›²å·²æ’­æ”¾
â”‚   â”‚   â”‚   â”œâ”€â”€ notifications/       # ç®¡ç†å‘˜é€šçŸ¥API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ send.post.ts     # å‘é€é€šçŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ play-times/          # æ’­æ”¾æ—¶é—´ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].ts          # æ’­æ”¾æ—¶é—´æ“ä½œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # åˆ›å»ºæ’­æ”¾æ—¶é—´
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts         # æ’­æ”¾æ—¶é—´åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ replay-requests/     # é‡æ’­ç”³è¯·ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # è·å–é‡æ’­ç”³è¯·åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reject.post.ts   # æ‹’ç»é‡æ’­ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ request-times/       # ç‚¹æ­Œæ—¶é—´ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].ts          # ç‚¹æ­Œæ—¶é—´æ“ä½œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # åˆ›å»ºç‚¹æ­Œæ—¶é—´
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts         # ç‚¹æ­Œæ—¶é—´åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ schedule/            # æ’æœŸç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ bulk-publish.post.ts # æ‰¹é‡å‘å¸ƒæ’æœŸ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ draft.post.ts    # ä¿å­˜æ’æœŸè‰ç¨¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ full.get.ts      # è·å–å®Œæ•´æ’æœŸæ•°æ®ï¼ˆåŒ…å«è‰ç¨¿ï¼‰
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ publish.post.ts  # å‘å¸ƒæ’æœŸè‰ç¨¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ remove.post.ts   # ç§»é™¤æ’æœŸ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sequence.post.ts # æ›´æ–°æ’æœŸé¡ºåº
â”‚   â”‚   â”‚   â”œâ”€â”€ schedule.post.ts     # åˆ›å»ºæ’æœŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ semesters/           # å­¦æœŸç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ [id].delete.ts   # åˆ é™¤å­¦æœŸ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts     # è·å–å­¦æœŸåˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # åˆ›å»ºå­¦æœŸ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ set-active.post.ts # è®¾ç½®æ´»è·ƒå­¦æœŸ
â”‚   â”‚   â”‚   â”œâ”€â”€ smtp/                # SMTPé‚®ä»¶æœåŠ¡API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ test-connection.post.ts # æµ‹è¯•SMTPè¿æ¥
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ test-email.post.ts # å‘é€æµ‹è¯•é‚®ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ songs/               # ç®¡ç†å‘˜æ­Œæ›²ç®¡ç†API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ delete.post.ts   # åˆ é™¤æ­Œæ›²
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reject.post.ts  # é©³å›æ­Œæ›²
â”‚   â”‚   â”‚   â”œâ”€â”€ stats.get.ts         # ç»Ÿè®¡æ•°æ®
â”‚   â”‚   â”‚   â”œâ”€â”€ activities.get.ts    # æ´»åŠ¨ç®¡ç†API
â”‚   â”‚   â”‚   â”œâ”€â”€ stats/               # è¯¦ç»†ç»Ÿè®¡API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ active-users.get.ts # æ´»è·ƒç”¨æˆ·ç»Ÿè®¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ realtime.get.ts  # å®æ—¶ç»Ÿè®¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ semester-comparison.get.ts # å­¦æœŸå¯¹æ¯”ç»Ÿè®¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ top-songs.get.ts # çƒ­é—¨æ­Œæ›²ç»Ÿè®¡
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ trends.get.ts    # è¶‹åŠ¿åˆ†æ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user-engagement.get.ts # ç”¨æˆ·å‚ä¸åº¦ç»Ÿè®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ system-settings/     # ç³»ç»Ÿè®¾ç½®API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.post.ts    # æ›´æ–°ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts         # è·å–ç³»ç»Ÿè®¾ç½®
â”‚   â”‚   â”‚   â””â”€â”€ users/               # ç”¨æˆ·ç®¡ç†API
â”‚   â”‚   â”‚       â”œâ”€â”€ [id]/            # ç”¨æˆ·è¯¦æƒ…æ“ä½œå­ç›®å½•
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ reset-password.post.ts # é‡ç½®ç”¨æˆ·å¯†ç 
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ songs.get.ts     # è·å–ç”¨æˆ·ç‚¹æ­Œè®°å½•
â”‚   â”‚   â”‚       â”‚   â”œâ”€â”€ status-logs.get.ts # è·å–ç”¨æˆ·çŠ¶æ€å˜æ›´æ—¥å¿—
â”‚   â”‚   â”‚       â”‚   â””â”€â”€ status.put.ts    # æ›´æ–°ç”¨æˆ·çŠ¶æ€
â”‚   â”‚   â”‚       â”œâ”€â”€ [id].delete.ts   # åˆ é™¤ç”¨æˆ·
â”‚   â”‚   â”‚       â”œâ”€â”€ [id].put.ts      # æ›´æ–°ç”¨æˆ·
â”‚   â”‚   â”‚       â”œâ”€â”€ [id].ts          # ç”¨æˆ·è¯¦æƒ…
â”‚   â”‚   â”‚       â”œâ”€â”€ batch-grade-update.post.ts # æ‰¹é‡å¹´çº§æ›´æ–°
â”‚   â”‚   â”‚       â”œâ”€â”€ batch-status.put.ts # æ‰¹é‡çŠ¶æ€æ›´æ–°
â”‚   â”‚   â”‚       â”œâ”€â”€ batch-update.post.ts # æ‰¹é‡æ›´æ–°ç”¨æˆ·
â”‚   â”‚   â”‚       â”œâ”€â”€ batch.post.ts    # æ‰¹é‡æ“ä½œç”¨æˆ·
â”‚   â”‚   â”‚       â”œâ”€â”€ index.get.ts     # è·å–ç”¨æˆ·åˆ—è¡¨
â”‚   â”‚   â”‚       â”œâ”€â”€ index.post.ts    # åˆ›å»ºç”¨æˆ·
â”‚   â”‚   â”‚       â”œâ”€â”€ index.ts         # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚       â””â”€â”€ status-logs.get.ts # ç”¨æˆ·çŠ¶æ€æ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯API
â”‚   â”‚   â”‚   â”œâ”€â”€ change-password.post.ts # ä¿®æ”¹å¯†ç 
â”‚   â”‚   â”‚   â”œâ”€â”€ login.post.ts        # ç”¨æˆ·ç™»å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ logout.post.ts       # ç”¨æˆ·ç™»å‡º
â”‚   â”‚   â”‚   â”œâ”€â”€ set-initial-password.post.ts # è®¾ç½®åˆå§‹å¯†ç 
â”‚   â”‚   â”‚   â””â”€â”€ verify.get.ts        # éªŒè¯Tokenå¹¶è·å–ç”¨æˆ·ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ bilibili/       # Bilibiliç›¸å…³API
â”‚   â”‚   â”‚   â”œâ”€â”€ playurl.get.ts       # è·å–æ’­æ”¾é“¾æ¥
â”‚   â”‚   â”‚   â””â”€â”€ search.get.ts        # Bilibiliè§†é¢‘æœç´¢
â”‚   â”‚   â”œâ”€â”€ blacklist/      # é»‘åå•API
â”‚   â”‚   â”‚   â””â”€â”€ check.post.ts        # æ£€æŸ¥é»‘åå•
â”‚   â”‚   â”œâ”€â”€ meow/           # MeoWè´¦å·ç»‘å®šAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ bind.post.ts         # ç»‘å®šMeoWè´¦å·
â”‚   â”‚   â”‚   â””â”€â”€ unbind.post.ts       # è§£ç»‘MeoWè´¦å·
â”‚   â”‚   â”œâ”€â”€ music/          # éŸ³ä¹ç›¸å…³API
â”‚   â”‚   â”‚   â”œâ”€â”€ state.post.ts        # éŸ³ä¹çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ websocket.ts         # éŸ³ä¹WebSocketè¿æ¥
â”‚   â”‚   â”œâ”€â”€ native-api/     # åŸç”ŸéŸ³ä¹API
â”‚   â”‚   â”‚   â””â”€â”€ search/              # æœç´¢API
â”‚   â”‚   â”‚       â”œâ”€â”€ tx.get.ts        # è…¾è®¯éŸ³ä¹æœç´¢
â”‚   â”‚   â”‚       â””â”€â”€ wy.get.ts        # ç½‘æ˜“äº‘éŸ³ä¹æœç´¢
â”‚   â”‚   â”œâ”€â”€ notifications/  # é€šçŸ¥ç³»ç»ŸAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/                # é€šçŸ¥æ“ä½œå­ç›®å½•
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ read.post.ts     # æ ‡è®°é€šçŸ¥å·²è¯»
â”‚   â”‚   â”‚   â”œâ”€â”€ [id].delete.ts       # åˆ é™¤é€šçŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ clear-all.delete.ts  # æ¸…ç©ºæ‰€æœ‰é€šçŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts             # é€šçŸ¥åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ meow/                # MeoWé€šçŸ¥API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ send-verification.post.ts # å‘é€éªŒè¯ç 
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ test.post.ts     # æµ‹è¯•é€šçŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ read-all.post.ts     # æ ‡è®°æ‰€æœ‰å·²è¯»
â”‚   â”‚   â”‚   â”œâ”€â”€ settings.post.ts     # æ›´æ–°é€šçŸ¥è®¾ç½®
â”‚   â”‚   â”‚   â””â”€â”€ settings.ts          # è·å–é€šçŸ¥è®¾ç½®
â”‚   â”‚   â”œâ”€â”€ open/           # å¼€æ”¾APIï¼ˆæ— éœ€è®¤è¯ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ schedules.get.ts     # è·å–å…¬å¼€æ’æœŸ
â”‚   â”‚   â”‚   â””â”€â”€ songs.get.ts         # è·å–å…¬å¼€æ­Œæ›²åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ play-times/     # æ’­æ”¾æ—¶é—´API
â”‚   â”‚   â”‚   â””â”€â”€ index.ts             # æ’­æ”¾æ—¶é—´ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ request-times/  # ç‚¹æ­Œæ—¶é—´API
â”‚   â”‚   â”‚   â””â”€â”€ index.ts             # ç‚¹æ­Œæ—¶é—´ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ progress/       # è¿›åº¦æ¡API
â”‚   â”‚   â”‚   â”œâ”€â”€ events.ts            # è¿›åº¦äº‹ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ id.ts                # è¿›åº¦IDç®¡ç†
â”‚   â”‚   â”œâ”€â”€ proxy/          # ä»£ç†æœåŠ¡API
â”‚   â”‚   â”‚   â””â”€â”€ image.get.ts         # å›¾ç‰‡ä»£ç†ï¼ˆè§£å†³HTTP/HTTPSæ··åˆå†…å®¹åŠè·¨åŸŸé—®é¢˜ï¼‰
â”‚   â”‚   â”œâ”€â”€ semesters/      # å­¦æœŸAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ current.get.ts       # è·å–å½“å‰å­¦æœŸ
â”‚   â”‚   â”‚   â””â”€â”€ options.get.ts       # è·å–å­¦æœŸé€‰é¡¹
â”‚   â”‚   â”œâ”€â”€ site-config.get.ts       # ç«™ç‚¹é…ç½®API
â”‚   â”‚   â”œâ”€â”€ songs/          # æ­Œæ›²ç›¸å…³API
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/                # æ­Œæ›²è¯¦æƒ…æ“ä½œ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ update.put.ts    # æ›´æ–°æ­Œæ›²ä¿¡æ¯
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ voters.get.ts    # è·å–æŠ•ç¥¨äººå‘˜
â”‚   â”‚   â”‚   â”œâ”€â”€ collaborators/       # è”åˆæŠ•ç¨¿ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ reply.post.ts    # å¤„ç†è”åˆæŠ•ç¨¿é‚€è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ add.post.ts          # æ·»åŠ æ­Œæ›²
â”‚   â”‚   â”‚   â”œâ”€â”€ count.get.ts         # æ­Œæ›²ç»Ÿè®¡
â”‚   â”‚   â”‚   â”œâ”€â”€ import.post.ts       # å¯¼å…¥æ­Œæ›²
â”‚   â”‚   â”‚   â”œâ”€â”€ index.get.ts         # æ­Œæ›²åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ public.get.ts        # å…¬å¼€æ­Œæ›²åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ request.post.ts      # ç‚¹æ­Œè¯·æ±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ replay.post.ts       # æäº¤é‡æ’­ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ replay.delete.ts     # æ’¤å›é‡æ’­ç”³è¯·
â”‚   â”‚   â”‚   â”œâ”€â”€ submission-status.get.ts # æŠ•ç¨¿çŠ¶æ€
â”‚   â”‚   â”‚   â”œâ”€â”€ vote.post.ts         # æŠ•ç¥¨
â”‚   â”‚   â”‚   â””â”€â”€ withdraw.post.ts     # æ’¤å›æ­Œæ›²
â”‚   â”‚   â”œâ”€â”€ system/         # ç³»ç»ŸAPI
â”‚   â”‚   â”‚   â”œâ”€â”€ location.get.ts      # è·å–ç³»ç»Ÿä½ç½®ä¿¡æ¯
â”‚   â”‚   â”‚   â”œâ”€â”€ reconnect.post.ts    # é‡è¿æ•°æ®åº“
â”‚   â”‚   â”‚   â””â”€â”€ status.get.ts        # ç³»ç»ŸçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ user/           # ç”¨æˆ·ç›¸å…³API
â”‚   â”‚   â”‚   â””â”€â”€ email/               # ç”¨æˆ·é‚®ç®±ç®¡ç†
â”‚   â”‚   â”‚       â”œâ”€â”€ bind.post.ts     # ç»‘å®šé‚®ç®±
â”‚   â”‚   â”‚       â”œâ”€â”€ resend-verification.post.ts # é‡å‘éªŒè¯é‚®ä»¶
â”‚   â”‚   â”‚       â”œâ”€â”€ send-code.post.ts # å‘é€éªŒè¯ç 
â”‚   â”‚   â”‚       â”œâ”€â”€ unbind.post.ts   # è§£ç»‘é‚®ç®±
â”‚   â”‚   â”‚       â””â”€â”€ verify-code.post.ts # éªŒè¯é‚®ç®±éªŒè¯ç 
â”‚   â”‚   â”‚   â””â”€â”€ year-review.get.ts   # è·å–å¹´åº¦å›é¡¾æ•°æ®
â”‚   â”‚   â””â”€â”€ users/          # ç”¨æˆ·API
â”‚   â”‚       â”œâ”€â”€ meow/                # ç”¨æˆ·MeoWç›¸å…³å­ç›®å½•
â”‚   â”‚       â”œâ”€â”€ social-accounts/     # ç¤¾äº¤è´¦å·ç®¡ç†
â”‚   â”‚       â”‚   â”œâ”€â”€ meow.delete.ts   # åˆ é™¤MeoWç»‘å®š
â”‚   â”‚       â”‚   â””â”€â”€ meow.post.ts     # MeoWè´¦å·æ“ä½œ
â”‚   â”‚       â”œâ”€â”€ search.get.ts        # æœç´¢ç”¨æˆ·
â”‚   â”‚       â””â”€â”€ social-accounts.get.ts # è·å–ç¤¾äº¤è´¦å·
â”‚   â”œâ”€â”€ error.ts            # å…¨å±€é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ middleware/         # æœåŠ¡ç«¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ auth.ts         # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ schema.ts       # æ•°æ®æ¨¡å‹å®šä¹‰
â”‚   â”œâ”€â”€ plugins/            # æœåŠ¡ç«¯æ’ä»¶
â”‚   â”‚   â””â”€â”€ error-handler.ts # é”™è¯¯å¤„ç†æ’ä»¶
â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ apiLogService.ts # APIæ—¥å¿—æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ cacheService.ts # ç¼“å­˜æœåŠ¡ï¼ˆRedisç¼“å­˜ç®¡ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ meowNotificationService.ts # MeoWé€šçŸ¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ notificationService.ts # é€šçŸ¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ securityService.ts # å®‰å…¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ smtpService.ts  # SMTPé‚®ä»¶æœåŠ¡
â”‚   â”œâ”€â”€ config/             # æœåŠ¡ç«¯é…ç½®
â”‚   â”‚   â””â”€â”€ constants.ts    # é£æ§é˜ˆå€¼ä¸æ—¶é—´çª—å£å¸¸é‡
â”‚   â”œâ”€â”€ utils/              # æœåŠ¡ç«¯å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ __tests__/      # å·¥å…·å‡½æ•°æµ‹è¯•ç›®å½•
â”‚   â”‚   â”œâ”€â”€ auth.ts         # è®¤è¯å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ cache-helpers.ts # ç¼“å­˜è¾…åŠ©å·¥å…·
â”‚   â”‚   â”œâ”€â”€ database-health.ts # æ•°æ®åº“å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ database-manager.ts # æ•°æ®åº“ç®¡ç†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ jwt-enhanced.ts # JWTå·¥å…·
â”‚   â”‚   â”œâ”€â”€ oauth-strategies.ts # OAuthç­–ç•¥é…ç½®
â”‚   â”‚   â”œâ”€â”€ oauth.ts        # OAuthé€šç”¨å·¥å…·
â”‚   â”‚   â”œâ”€â”€ oauth-token.ts  # OAuthä»¤ç‰Œå·¥å…·
â”‚   â”‚   â”œâ”€â”€ permissions.js  # æƒé™ç³»ç»Ÿé…ç½®
â”‚   â”‚   â””â”€â”€ redis.ts        # Redisè¿æ¥å’Œæ“ä½œå·¥å…·
â”‚   â””â”€â”€ tsconfig.json       # æœåŠ¡ç«¯TypeScripté…ç½®
â”œâ”€â”€ types/                 # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ global.d.ts         # å…¨å±€ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts            # é€šç”¨ç±»å‹å®šä¹‰
â”œâ”€â”€ utils/                 # å®¢æˆ·ç«¯å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __tests__/          # å·¥å…·å‡½æ•°æµ‹è¯•ç›®å½•
â”‚   â”œâ”€â”€ musicSources.ts     # éŸ³ä¹æºé…ç½®å’Œç®¡ç†å·¥å…·
â”‚   â”œâ”€â”€ musicUrl.ts         # éŸ³ä¹URLå¤„ç†å·¥å…·
â”‚   â”œâ”€â”€ oauth.ts            # OAuthå·¥å…·å‡½æ•°
â”‚   â””â”€â”€ url.ts              # URLå¤„ç†å·¥å…·ï¼ˆHTTPSè½¬æ¢ç­‰ï¼‰
â”œâ”€â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ .gitignore             # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ .vercelignore          # Verceléƒ¨ç½²å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ docker-compose/        # Docker Composeé…ç½®ç›®å½•
â”œâ”€â”€ docker-compose.yml     # Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ Dockerfile             # Dockeræ„å»ºæ–‡ä»¶
â”œâ”€â”€ drizzle.config.ts      # Drizzleé…ç½®æ–‡ä»¶
â”œâ”€â”€ LICENSE                # å¼€æºè®¸å¯è¯æ–‡ä»¶
â”œâ”€â”€ netlify.toml           # Netlifyéƒ¨ç½²é…ç½®
â”œâ”€â”€ nuxt.config.ts         # Nuxt 4ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json           # Node.jsé¡¹ç›®é…ç½®å’Œä¾èµ–
â”œâ”€â”€ README.md              # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ tsconfig.json          # TypeScripté…ç½®æ–‡ä»¶
â””â”€â”€ vercel.json            # Verceléƒ¨ç½²é…ç½®
```

### ç›®å½•è¯´æ˜

#### æ ¸å¿ƒç›®å½• (app/)
- **`app/components/`**: Vueç»„ä»¶åº“ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡
- **`app/pages/`**: é¡µé¢ç»„ä»¶ï¼ŒNuxt 4 è‡ªåŠ¨è·¯ç”±
- **`app/composables/`**: Vue 3ç»„åˆå¼APIï¼Œä¸šåŠ¡é€»è¾‘å¤ç”¨
- **`app/drizzle/`**: Drizzle ORMé…ç½®ã€æ•°æ®åº“è¿æ¥å’Œè¿ç§»æ–‡ä»¶

#### é…ç½®ç›®å½• (app/)
- **`app/assets/css/`**: æ ·å¼æ–‡ä»¶ï¼Œæ”¯æŒCSSå˜é‡å’Œä¸»é¢˜
- **`app/plugins/`**: Nuxtæ’ä»¶ï¼Œæ‰©å±•æ¡†æ¶åŠŸèƒ½
- **`app/middleware/`**: ä¸­é—´ä»¶ï¼Œå¤„ç†è·¯ç”±å’Œè®¤è¯

#### æœåŠ¡ç«¯ç›®å½• (server/)
- **`server/api/`**: æœåŠ¡ç«¯APIï¼ŒRESTfulæ¥å£è®¾è®¡
- **`server/config/`**: æœåŠ¡ç«¯é…ç½®ï¼ˆå¸¸é‡ã€ç¯å¢ƒé…ç½®ç­‰ï¼‰
- **`server/middleware/`**: æœåŠ¡ç«¯ä¸­é—´ä»¶ï¼ˆè®¤è¯ã€æ—¥å¿—ç­‰ï¼‰
- **`server/plugins/`**: æœåŠ¡ç«¯æ’ä»¶ï¼ˆé”™è¯¯å¤„ç†ç­‰ï¼‰
- **`server/services/`**: ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
- **`server/utils/`**: æœåŠ¡ç«¯å·¥å…·å‡½æ•°

#### å·¥å…·ç›®å½•
- **`scripts/`**: æ•°æ®åº“ç®¡ç†å’Œéƒ¨ç½²è„šæœ¬
- **`app/utils/`**: å®¢æˆ·ç«¯å·¥å…·å‡½æ•°

#### é™æ€èµ„æº
- **`app/public/`**: é™æ€æ–‡ä»¶
- **`app/public/images/`**: å›¾ç‰‡èµ„æºï¼ŒåŒ…å«Logoå’Œå›¾æ ‡æ–‡ä»¶

## ä½¿ç”¨è¯´æ˜

### æ™®é€šç”¨æˆ·
1. è®¿é—®ä¸»é¡µï¼ŒæŸ¥çœ‹å½“å‰æ’æœŸ
2. æ³¨å†Œ/ç™»å½•è´¦å·
3. åœ¨ä»ªè¡¨ç›˜ä¸­ç‚¹æ­Œæˆ–ç»™å–œæ¬¢çš„æ­Œæ›²æŠ•ç¥¨
   - æ”¯æŒæœç´¢ç½‘æ˜“äº‘éŸ³ä¹ã€QQéŸ³ä¹å’Œå“”å“©å“”å“©å¹³å°
   - å¯ä»¥è¯•å¬æ­Œæ›²å¹¶é€‰æ‹©éŸ³è´¨
   - æ”¯æŒç»™å·²æœ‰æ­Œæ›²æŠ•ç¥¨
   - **ç½‘æ˜“äº‘éŸ³ä¹ç™»å½•åŠŸèƒ½**ï¼š
     - æ‰«ç ç™»å½•ç½‘æ˜“äº‘éŸ³ä¹è´¦å·
     - ç™»å½•åå¯ä¸€é”®æ·»åŠ å½“å‰æ’æœŸæ­Œæ›²åˆ°ä¸ªäººæ­Œå•
     - æ”¯æŒä»ä¸ªäººæ­Œå•ä¸­ç›´æ¥æŠ•ç¨¿æ­Œæ›²
     - æ”¯æŒä»æœ€è¿‘æ’­æ”¾è®°å½•ä¸­æŠ•ç¨¿æ­Œæ›²
     - å¯æœç´¢å¹¶æŠ•ç¨¿æ’­å®¢å’Œç”µå°å†…å®¹
4. ä½¿ç”¨å†…ç½®æ’­æ”¾å™¨æ’­æ”¾æ­Œæ›²
   - æ”¯æŒå¤šç§éŸ³è´¨åˆ‡æ¢ï¼ˆæ ‡å‡†ã€HQã€æ— æŸã€Hi-Resç­‰ï¼‰
   - å®æ—¶åˆ‡æ¢éŸ³è´¨å¹¶ä¿æŒæ’­æ”¾è¿›åº¦
5. æŸ¥çœ‹é€šçŸ¥ä¸­å¿ƒè·å–æ­Œæ›²çŠ¶æ€æ›´æ–°

### ç®¡ç†å‘˜
1. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•ï¼ˆé»˜è®¤è´¦å·ï¼šadminï¼Œå¯†ç ï¼šadmin123ï¼‰
2. è¿›å…¥ç®¡ç†åå°ï¼Œé€‰æ‹©ç›¸åº”åŠŸèƒ½æ ‡ç­¾
3. **æ’æœŸç®¡ç†**ï¼šå¯ä»¥çœ‹åˆ°å·¦ä¾§"å¾…æ’æ­Œæ›²"å’Œå³ä¾§"æ’­æ”¾é¡ºåº"
   - é€šè¿‡æ‹–æ‹½å°†æ­Œæ›²ä»å·¦ä¾§æ·»åŠ åˆ°å³ä¾§çš„æ’æœŸåˆ—è¡¨
   - å¯ä»¥åœ¨å³ä¾§æ‹–æ‹½è°ƒæ•´æ­Œæ›²æ’­æ”¾é¡ºåº
   - æ”¯æŒæ’­å‡ºæ—¶æ®µç®¡ç†ï¼Œå¯è®¾ç½®ä¸åŒæ—¶æ®µçš„æ’­æ”¾å®‰æ’
   - **è‰ç¨¿åŠŸèƒ½**ï¼šæ”¯æŒä¿å­˜æ’æœŸè‰ç¨¿ï¼Œå…è®¸ç®¡ç†å‘˜å…ˆä¿å­˜æœªå®Œæˆçš„æ’æœŸå®‰æ’
     - ç‚¹å‡»"ä¿å­˜è‰ç¨¿"æŒ‰é’®ä¿å­˜å½“å‰æ’æœŸä¸ºè‰ç¨¿çŠ¶æ€
     - è‰ç¨¿ä¸ä¼šå½±å“å…¬å¼€å±•ç¤ºçš„æ’æœŸï¼Œå¯ä»¥éšæ—¶ä¿®æ”¹
     - ç‚¹å‡»"ä¿å­˜å¹¶å‘å¸ƒ"æŒ‰é’®å°†è‰ç¨¿å‘å¸ƒä¸ºæ­£å¼æ’æœŸ
   - ç‚¹å‡»"ä¿å­˜é¡ºåº"æŒ‰é’®ä¿å­˜æ’æœŸ
4. **æ‰“å°æ’æœŸ**ï¼šä¸“ä¸šçš„æ’æœŸæ‰“å°å’Œå¯¼å‡ºåŠŸèƒ½
   - é€‰æ‹©çº¸å¼ å¤§å°ï¼ˆA4ã€A3ã€Letterã€Legalï¼‰å’Œé¡µé¢æ–¹å‘
   - è‡ªå®šä¹‰æ˜¾ç¤ºå†…å®¹ï¼šæ­Œæ›²å°é¢ã€æ­Œåã€æ­Œæ‰‹ã€æŠ•ç¨¿äººã€çƒ­åº¦ç­‰
   - å¿«æ·æ—¥æœŸé€‰æ‹©ï¼šä»Šå¤©ã€æ˜å¤©ã€æœ¬å‘¨ã€ä¸‹å‘¨
   - æ™ºèƒ½åˆ†ç»„æ˜¾ç¤ºï¼šæŒ‰æ—¥æœŸåˆ†ç»„ï¼Œæœ‰å¤šä¸ªæ’­å‡ºæ—¶æ®µæ—¶è‡ªåŠ¨æŒ‰æ—¶é—´æ’åº
   - å®æ—¶é¢„è§ˆï¼šæ‰€è§å³æ‰€å¾—çš„æ‰“å°é¢„è§ˆ
   - PDFå¯¼å‡ºï¼šæ”¯æŒå¯¼å‡ºé«˜è´¨é‡PDFæ–‡ä»¶ï¼Œè‡ªåŠ¨å¤„ç†è·¨åŸŸå›¾ç‰‡
5. **æ­Œæ›²ç®¡ç†**ï¼šæŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰æ­Œæ›²
   - æ”¯æŒæ’­æ”¾æ­Œæ›²å¹¶å®æ—¶åˆ‡æ¢éŸ³è´¨
   - åŠ¨æ€è·å–æœ€æ–°çš„éŸ³ä¹æ’­æ”¾é“¾æ¥
   - æä¾›æ­Œæ›²ä¸‹è½½åŠŸèƒ½ï¼Œæ”¯æŒæ‰¹é‡ä¸‹è½½ç®¡ç†
   - æ‰¹é‡æ›´æ–°æ­Œæ›²ä¿¡æ¯å’ŒçŠ¶æ€
6. **æ•°æ®åˆ†æ**ï¼šæŸ¥çœ‹ç³»ç»Ÿä½¿ç”¨ç»Ÿè®¡å’Œæ•°æ®åˆ†æ
   - å®æ—¶ç»Ÿè®¡æ•°æ®ï¼šç”¨æˆ·æ´»è·ƒåº¦ã€æ­Œæ›²çƒ­åº¦ã€æŠ•ç¥¨è¶‹åŠ¿
   - å­¦æœŸå¯¹æ¯”åˆ†æï¼šä¸åŒå­¦æœŸçš„æ•°æ®å¯¹æ¯”
   - ç”¨æˆ·å‚ä¸åº¦åˆ†æï¼šç”¨æˆ·è¡Œä¸ºå’Œå‚ä¸åº¦ç»Ÿè®¡
   - è¶‹åŠ¿åˆ†æï¼šç³»ç»Ÿä½¿ç”¨è¶‹åŠ¿å’Œé¢„æµ‹
7. **æ•°æ®åº“ç®¡ç†**ï¼šæ•°æ®åº“å¤‡ä»½æ¢å¤å’Œç»´æŠ¤
   - åˆ›å»ºå’Œä¸‹è½½æ•°æ®åº“å¤‡ä»½
   - ä¸Šä¼ å’Œæ¢å¤å¤‡ä»½æ–‡ä»¶
   - åºåˆ—é‡ç½®ï¼šä¿®å¤æ•°æ®åº“åºåˆ—é—®é¢˜
   - æ•°æ®åº“çŠ¶æ€æ£€æŸ¥å’Œå®Œæ•´æ€§éªŒè¯
8. **å­¦æœŸç®¡ç†**ï¼šè®¾ç½®å’Œç®¡ç†å­¦æœŸä¿¡æ¯
   - åˆ›å»ºæ–°å­¦æœŸï¼ˆå¦‚"2024-2025å­¦å¹´ä¸Šå­¦æœŸ"ï¼‰
   - è®¾ç½®å½“å‰æ´»è·ƒå­¦æœŸ
   - ç‚¹æ­Œè®°å½•è‡ªåŠ¨å…³è”åˆ°å½“å‰å­¦æœŸ
9. **ç”¨æˆ·ç®¡ç†**ï¼šæ·»åŠ ã€ç¼–è¾‘å’Œåˆ é™¤ç”¨æˆ·
   - å•ä¸ªæ·»åŠ ï¼šå¡«å†™ç”¨æˆ·ä¿¡æ¯ï¼ˆåŒ…æ‹¬å§“åã€è´¦å·ã€å¹´çº§ã€ç­çº§ï¼‰
   - æ‰¹é‡å¯¼å…¥ï¼šé€šè¿‡EXCELæ–‡ä»¶æ‰¹é‡æ·»åŠ ç”¨æˆ·
   - å¯ä»¥é‡ç½®ç”¨æˆ·å¯†ç 
10. **é»‘åå•ç®¡ç†**ï¼šç®¡ç†æ­Œæ›²å’Œå…³é”®è¯é»‘åå•
    - æ·»åŠ å…·ä½“æ­Œæ›²æˆ–å…³é”®è¯åˆ°é»‘åå•
    - è‡ªåŠ¨è¿‡æ»¤åŒ…å«é»‘åå•å†…å®¹çš„ç‚¹æ­Œè¯·æ±‚
    - æ”¯æŒå¯ç”¨/ç¦ç”¨é»‘åå•é¡¹
11. **ç³»ç»Ÿè®¾ç½®**ï¼šé…ç½®ç³»ç»Ÿå‚æ•°å’ŒåŠŸèƒ½å¼€å…³
    - ç«™ç‚¹ä¿¡æ¯é…ç½®ï¼šæ ‡é¢˜ã€Logoã€æè¿°ç­‰
    - æŠ•ç¨¿é™é¢è®¾ç½®ï¼šæ¯æ—¥/æ¯å‘¨æŠ•ç¨¿é™åˆ¶
    - æ’­å‡ºæ—¶æ®µç®¡ç†ï¼šé…ç½®ä¸åŒçš„æ’­å‡ºæ—¶é—´æ®µ
    - åŠŸèƒ½å¼€å…³ï¼šå¯ç”¨/ç¦ç”¨ç‰¹å®šåŠŸèƒ½
12. **é€šçŸ¥ç®¡ç†**ï¼šå‘ç”¨æˆ·å‘é€ç³»ç»Ÿé€šçŸ¥
    - æ”¯æŒæŒ‰å…¨ä½“ç”¨æˆ·ã€å¹´çº§ã€ç­çº§æˆ–å¤šç­çº§å‘é€
    - å®æ—¶æ˜¾ç¤ºå‘é€è¿›åº¦å’Œç»“æœ
    - é€šçŸ¥å†å²è®°å½•å’Œç®¡ç†

## æ•°æ®åº“ç®¡ç†

### Drizzle ORM + Neon Database

é¡¹ç›®ä½¿ç”¨ Drizzle ORM ä½œä¸ºæ•°æ®åº“ ORMï¼Œé…åˆ Neon Database æä¾›ç°ä»£åŒ–çš„æ•°æ®åº“è§£å†³æ–¹æ¡ˆã€‚

#### æ ¸å¿ƒæ–‡ä»¶ç»“æ„
- **`drizzle.config.ts`** - Drizzle ORM ä¸»é…ç½®æ–‡ä»¶
- **`app/drizzle/db.ts`** - æ•°æ®åº“è¿æ¥å’Œå®¢æˆ·ç«¯é…ç½®ï¼Œé’ˆå¯¹ Neon Database ä¼˜åŒ–
- **`app/drizzle/schema.ts`** - æ•°æ®åº“è¡¨ç»“æ„å®šä¹‰ï¼Œä½¿ç”¨ TypeScript ç±»å‹å®‰å…¨
- **`app/drizzle/migrations/`** - æ•°æ®åº“è¿ç§»è„šæœ¬ç›®å½•

### æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤
```bash
# å¤‡ä»½æ•°æ®åº“
pg_dump -h localhost -U username -d database_name > backup.sql

# æ¢å¤æ•°æ®åº“
psql -h localhost -U username -d database_name < backup.sql
```

### æ•°æ®åº“åˆå§‹åŒ–

é¦–æ¬¡éƒ¨ç½²æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆå§‹åŒ–æ•°æ®åº“ç»“æ„ã€‚å¦‚éœ€æ‰‹åŠ¨ç®¡ç†æ•°æ®åº“ï¼š

1. **ç”Ÿæˆè¿ç§»æ–‡ä»¶**ï¼š
   ```bash
   npm run db:generate
   ```

2. **æ‰§è¡Œæ•°æ®åº“è¿ç§»**ï¼š
   ```bash
   npm run db:migrate
   ```

3. **æ¨é€æ¨¡å¼å˜æ›´åˆ°æ•°æ®åº“**ï¼š
   ```bash
   npm run db:push
   ```

4. **å¯åŠ¨ Drizzle Studioï¼ˆæ•°æ®åº“ç®¡ç†ç•Œé¢ï¼‰**ï¼š
   ```bash
   npm run db:studio
   ```

5. **æ¸…ç©ºæ•°æ®åº“å¹¶åˆ›å»ºç®¡ç†å‘˜**ï¼š
   ```bash
   npm run clear-db
   ```

### æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤
- **åˆ›å»ºå¤‡ä»½**ï¼šåœ¨ç®¡ç†åå°çš„æ•°æ®åº“ç®¡ç†é¡µé¢ç‚¹å‡»"åˆ›å»ºå¤‡ä»½"æŒ‰é’®
- **ä¸‹è½½å¤‡ä»½**ï¼šå¤‡ä»½å®Œæˆåå¯ç›´æ¥ä¸‹è½½å¤‡ä»½æ–‡ä»¶
- **æ¢å¤å¤‡ä»½**ï¼šä¸Šä¼ å¤‡ä»½æ–‡ä»¶å¹¶é€‰æ‹©æ¢å¤æ¨¡å¼ï¼ˆå¢é‡æˆ–å®Œå…¨æ¢å¤ï¼‰
- **åºåˆ—é‡ç½®**ï¼šä¿®å¤æ•°æ®åº“åºåˆ—é—®é¢˜ï¼Œç¡®ä¿è‡ªå¢IDæ­£å¸¸å·¥ä½œ

## å¸¸è§é—®é¢˜

### æ•°æ®åº“è¿æ¥é—®é¢˜

å¦‚æœé‡åˆ°æ•°æ®åº“è¿æ¥é”™è¯¯ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š

1. ç¡®ä¿å·²æ­£ç¡®é…ç½®æ ¹ç›®å½•çš„`.env`æ–‡ä»¶ï¼ˆåŒ…å«æœ‰æ•ˆçš„DATABASE_URLï¼‰
2. æ£€æŸ¥æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²æ ¼å¼æ˜¯å¦æ­£ç¡®
3. ç¡®ä¿æ•°æ®åº“æœåŠ¡æ­£åœ¨è¿è¡Œå¹¶å¯è®¿é—®
4. è¿è¡Œæ•°æ®åº“è¿ç§»ç¡®ä¿è¡¨ç»“æ„æœ€æ–°ï¼š
   ```bash
   npm run db:migrate
   ```

### æ•°æ®åº“è¿ç§»é—®é¢˜

å¦‚æœé‡åˆ°æ•°æ®åº“è¡¨ç»“æ„ä¸åŒ¹é…çš„é—®é¢˜ï¼š

1. ç¡®ä¿æ•°æ®åº“å·²ç»æœ€æ–°ï¼š
   ```bash
   npm run db:migrate
   ```

2. å¯¹äºå¤æ‚çš„æ•°æ®åº“é—®é¢˜ï¼Œå¯èƒ½éœ€è¦é‡ç½®æ•°æ®åº“ï¼ˆæ…ç”¨ï¼Œä¼šåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰ï¼š
   ```bash
   npm run db:reset
   ```

3. å¦‚æœéœ€è¦æ¸…ç©ºæ•°æ®åº“å¹¶é‡æ–°åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·ï¼š
   ```bash
   npm run clear-db
   ```

### å¤‡ä»½æ–‡ä»¶æ ¼å¼
- **å®Œæ•´å¤‡ä»½**ï¼šåŒ…å«æ‰€æœ‰æ•°æ®è¡¨çš„JSONæ ¼å¼æ–‡ä»¶
- **ç”¨æˆ·å¤‡ä»½**ï¼šä»…åŒ…å«ç”¨æˆ·ç›¸å…³æ•°æ®
- **å…ƒæ•°æ®**ï¼šåŒ…å«åˆ›å»ºæ—¶é—´ã€åˆ›å»ºè€…ã€è¡¨ä¿¡æ¯ç­‰

## å¼€å‘æŒ‡å—

### ç»„åˆå¼API

é¡¹ç›®ä½¿ç”¨äº†Vue 3çš„ç»„åˆå¼APIï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- `useAuth`: å¤„ç†ç”¨æˆ·è®¤è¯ã€ç™»å½•ã€æ³¨å†Œå’Œæƒé™æ§åˆ¶
- `useSongs`: å¤„ç†æ­Œæ›²ç›¸å…³æ“ä½œï¼ŒåŒ…æ‹¬è·å–æ­Œæ›²åˆ—è¡¨ã€ç‚¹æ­Œå’ŒæŠ•ç¥¨
- `useAdmin`: å¤„ç†ç®¡ç†å‘˜æ“ä½œï¼ŒåŒ…æ‹¬æ’æœŸç®¡ç†å’Œæ ‡è®°æ’­æ”¾
- `useNotifications`: å¤„ç†é€šçŸ¥ç³»ç»Ÿï¼ŒåŒ…æ‹¬è·å–ã€æ ‡è®°å·²è¯»å’Œè®¾ç½®
- `useAudioQuality`: å¤„ç†éŸ³è´¨ç®¡ç†ï¼ŒåŒ…æ‹¬éŸ³è´¨è®¾ç½®å’ŒæŒä¹…åŒ–
- `useSemesters`: å¤„ç†å­¦æœŸç®¡ç†ï¼ŒåŒ…æ‹¬åˆ›å»ºå­¦æœŸå’Œè®¾ç½®æ´»è·ƒå­¦æœŸ

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `server/api` ä¸­æ·»åŠ æ–°çš„APIç«¯ç‚¹
2. åœ¨ `app/composables` ä¸­æ·»åŠ ç›¸åº”çš„ç»„åˆå¼å‡½æ•°
3. åœ¨ `app/components` ä¸­åˆ›å»ºUIç»„ä»¶
4. åœ¨ `app/pages` ä¸­æ•´åˆç»„ä»¶å’ŒåŠŸèƒ½

### æ•°æ®åº“æ¨¡å‹ä¿®æ”¹

å¦‚éœ€ä¿®æ”¹æ•°æ®åº“æ¨¡å‹ï¼š

1. ç¼–è¾‘`app/drizzle/schema.ts`æ–‡ä»¶ä¸­çš„è¡¨ç»“æ„å®šä¹‰
2. ç”Ÿæˆæ–°çš„è¿ç§»æ–‡ä»¶ï¼š`npm run db:generate`
3. åº”ç”¨è¿ç§»åˆ°æ•°æ®åº“ï¼š`npm run db:migrate`
4. ç¡®ä¿åŒæ—¶æ›´æ–° `types/index.ts` ä¸­çš„TypeScriptç±»å‹å®šä¹‰
5. ä½¿ç”¨Drizzle StudioæŸ¥çœ‹æ•°æ®åº“ï¼š`npm run db:studio`

### OAuth å¹³å°æ‰©å±•æŒ‡å—

VoiceHub é‡‡ç”¨ç­–ç•¥æ¨¡å¼ï¼ˆStrategy Patternï¼‰å®ç°äº†çµæ´»çš„ OAuth æ‰©å±•æœºåˆ¶ï¼Œå…è®¸å¼€å‘è€…è½»æ¾æ¥å…¥æ–°çš„ç¬¬ä¸‰æ–¹ç™»å½•å¹³å°ã€‚

#### æ‰©å±•æ­¥éª¤

##### 1. å®šä¹‰ OAuth ç­–ç•¥

åœ¨ `server/utils/oauth-strategies.ts` æ–‡ä»¶ä¸­ï¼Œå®ç° `OAuthStrategy` æ¥å£ã€‚è¯¥æ¥å£å®šä¹‰äº† OAuth æµç¨‹ä¸­çš„ä¸‰ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š

```typescript
export interface OAuthStrategy {
    /**
     * è·å–æˆæƒè·³è½¬ URL
     * @param redirectUri å›è°ƒåœ°å€ï¼ˆé€šå¸¸æ˜¯ /api/auth/[provider]/callbackï¼‰
     * @param state åŒ…å«å®‰å…¨æ ¡éªŒä¿¡æ¯çš„åŠ å¯†å­—ç¬¦ä¸²
     */
    getAuthorizeUrl(redirectUri: string, state: string): string

    /**
     * ä½¿ç”¨ code æ¢å– access_token
     * @param code æˆæƒç 
     * @param redirectUri å›è°ƒåœ°å€
     */
    exchangeToken(code: string, redirectUri: string): Promise<string>

    /**
     * è·å–ç”¨æˆ·ä¿¡æ¯
     * @param accessToken è®¿é—®ä»¤ç‰Œ
     */
    getUserInfo(accessToken: string): Promise<OAuthUserInfo>
}
```

**ç¤ºä¾‹ï¼šæ¥å…¥ Google ç™»å½•**

```typescript
// server/utils/oauth-strategies.ts
const googleStrategy: OAuthStrategy = {
    getAuthorizeUrl(redirectUri, state) {
        const clientId = process.env.GOOGLE_CLIENT_ID
        // Google æˆæƒç«¯ç‚¹
        return `https://accounts.google.com/o/oauth2/v2/auth?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&scope=email%20profile&state=${encodeURIComponent(state)}`
    },

    async exchangeToken(code, redirectUri) {
        // ... å®ç° Google çš„ Token äº¤æ¢é€»è¾‘
        // é€šå¸¸æ˜¯å‘é€ POST è¯·æ±‚åˆ° https://oauth2.googleapis.com/token
    },

    async getUserInfo(accessToken) {
        // ... å®ç°è·å– Google ç”¨æˆ·ä¿¡æ¯çš„é€»è¾‘
        // é€šå¸¸æ˜¯å‘é€ GET è¯·æ±‚åˆ° https://www.googleapis.com/oauth2/v3/userinfo
        // éœ€è¿”å›ç»Ÿä¸€çš„ OAuthUserInfo æ ¼å¼ï¼š
        // { id, username, email, name, avatar }
    }
}
```

##### 2. æ³¨å†Œç­–ç•¥

åœ¨åŒä¸€ä¸ªæ–‡ä»¶ (`server/utils/oauth-strategies.ts`) çš„ `strategies` å¯¹è±¡ä¸­æ³¨å†Œä½ çš„æ–°ç­–ç•¥ï¼š

```typescript
const strategies: Record<string, OAuthStrategy> = {
    github: githubStrategy,
    casdoor: casdoorStrategy,
    google: googleStrategy, // <--- æ³¨å†Œæ–°å¹³å°
    // ... å…¶ä»–å¹³å°
}
```

##### 3. é…ç½®ç¯å¢ƒå˜é‡

åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ æ–°å¹³å°æ‰€éœ€çš„é…ç½®ï¼ˆå¦‚ Client ID å’Œ Secretï¼‰ï¼š

```bash
GOOGLE_CLIENT_ID="your-client-id"
GOOGLE_CLIENT_SECRET="your-client-secret"
```

##### 4. å®Œæˆï¼

ç°åœ¨ï¼Œä½ å¯ä»¥é€šè¿‡ `/api/auth/google` è®¿é—®æ–°çš„ç™»å½•æµç¨‹ï¼ŒVoiceHub ä¼šè‡ªåŠ¨å¤„ç†è·¯ç”±åˆ†å‘ã€State æ ¡éªŒã€CSRF ä¿æŠ¤å’Œç”¨æˆ·ç»‘å®šé€»è¾‘ã€‚

#### Casdoor é…ç½®è¯´æ˜

é¡¹ç›®å·²å†…ç½®å¯¹ [Casdoor](https://casdoor.org/) çš„æ”¯æŒã€‚Casdoor æ˜¯ä¸€ä¸ªå¼€æºçš„ UI ä¼˜å…ˆçš„èº«ä»½è®¤è¯ç®¡ç†ç³»ç»Ÿ (IAM)ï¼Œæ”¯æŒ OAuth 2.0ã€OIDC ç­‰å¤šç§åè®®ã€‚

è¦å¯ç”¨ Casdoor ç™»å½•ï¼Œåªéœ€åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

```bash
# Casdoor é…ç½®
CASDOOR_ENDPOINT="https://your-casdoor-domain.com" # Casdoor æœåŠ¡åœ°å€
CASDOOR_CLIENT_ID="your-client-id"                 # åº”ç”¨ Client ID
CASDOOR_CLIENT_SECRET="your-client-secret"         # åº”ç”¨ Client Secret
```

é…ç½®å®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«å¹¶å¯ç”¨ Casdoor ç™»å½•ç­–ç•¥ã€‚

#### å¤šç¯å¢ƒéƒ¨ç½²ä¸å›è°ƒåœ°å€ä»£ç†

åœ¨ Vercel ç­‰å¹³å°è¿›è¡Œå¤šç¯å¢ƒéƒ¨ç½²æ—¶ï¼ŒGitHub OAuth App é€šå¸¸åªèƒ½é…ç½®å•ä¸€çš„å›è°ƒåœ°å€ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé¡¹ç›®å¯ä»¥ä½¿ç”¨ [VoiceHub-Auth-Broker](https://github.com/laoshuikaixue/VoiceHub-Auth-Broker) ä¸­é—´ä»¶ï¼Œå…·ä½“ä½¿ç”¨æ–¹æ³•å¯è§ä»“åº“å†…çš„æ–‡æ¡£ã€‚

è¯¥ä¸­é—´ä»¶å¯ä»¥ä½œä¸ºç»Ÿä¸€çš„å›è°ƒå…¥å£ï¼Œæ ¹æ® `state` å‚æ•°åŠ¨æ€è½¬å‘å›è°ƒè¯·æ±‚åˆ°æ­£ç¡®çš„éƒ¨ç½²ç¯å¢ƒï¼Œä»è€Œå®ç°ä¸€ä¸ª GitHub OAuth App æ”¯æŒæ— é™ä¸ªé¢„è§ˆ/ç”Ÿäº§ç¯å¢ƒã€‚è¯¦æƒ…è¯·å‚è€ƒè¯¥é¡¹ç›®æ–‡æ¡£ã€‚

#### å‰ç«¯å›¾æ ‡é…ç½®

å½“æ·»åŠ äº†æ–°çš„æœåŠ¡ç«¯ OAuth ç­–ç•¥åï¼Œå¦‚æœéœ€è¦åœ¨å‰ç«¯ç™»å½•é¡µé¢æ˜¾ç¤ºå¯¹åº”çš„å›¾æ ‡æŒ‰é’®ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

1.  åœ¨ `app/components/Auth/Providers` ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä»¥ Provider åç§°ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰å‘½åçš„æ–‡ä»¶å¤¹ï¼Œä¾‹å¦‚ `Google`ã€‚
2.  åœ¨è¯¥æ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ª `Icon.vue` ç»„ä»¶ï¼Œæ”¾å…¥å¯¹åº”çš„ SVG å›¾æ ‡ä»£ç ã€‚
    *   å»ºè®® SVG å¤§å°è®¾ç½®ä¸º `w-5 h-5` ä»¥ä¿æŒæ ·å¼ç»Ÿä¸€ã€‚
3.  ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶åŠ è½½è¯¥å›¾æ ‡ï¼Œæ— éœ€é¢å¤–é…ç½®ã€‚

ä¾‹å¦‚ï¼š`app/components/Auth/Providers/Google/Icon.vue`

**æ³¨æ„ï¼š** å¯¹äº Casdoorï¼Œè¯·åˆ›å»º `app/components/Auth/Providers/Casdoor/Icon.vue`ï¼Œå¹¶å¡«å…¥ Casdoor çš„å›¾æ ‡ä»£ç ã€‚

#### OAuth å·¥å…·å‡½æ•°

ä¸ºäº†ç»Ÿä¸€å‰ç«¯ OAuth æä¾›å•†çš„åç§°æ˜¾ç¤ºï¼Œç³»ç»Ÿæä¾›äº† `getProviderDisplayName` å·¥å…·å‡½æ•°ã€‚

**ä½ç½®**: `app/utils/oauth.ts`

**ä½¿ç”¨æ–¹æ³•**:

```typescript
import { getProviderDisplayName } from '~/utils/oauth'

// è·å–æ˜¾ç¤ºåç§°
const displayName = getProviderDisplayName('github') // è¿”å› "GitHub"
const displayName2 = getProviderDisplayName('casdoor') // è¿”å› "Casdoor"
const displayName3 = getProviderDisplayName('google') // è¿”å› "Google" (é»˜è®¤é¦–å­—æ¯å¤§å†™)
```

**æ‰©å±•**:
å½“æ·»åŠ æ–°çš„ OAuth æä¾›å•†æ—¶ï¼Œå¯ä»¥åœ¨ `app/utils/oauth.ts` çš„ `map` å¯¹è±¡ä¸­æ·»åŠ å¯¹åº”çš„æ˜ å°„å…³ç³»ï¼Œä»¥å®ç°è‡ªå®šä¹‰æ˜¾ç¤ºåç§°ã€‚

#### æ·»åŠ ç»‘å®šå¡ç‰‡

ä¸ºäº†åœ¨è´¦å·ç®¡ç†é¡µé¢æ˜¾ç¤ºæ–°æ·»åŠ çš„ OAuth æä¾›å•†ç»‘å®šé€‰é¡¹ï¼Œä½ éœ€è¦ä¿®æ”¹ `app/components/Auth/OAuthBindingCard.vue` æ–‡ä»¶ã€‚

**1. æ·»åŠ è®¡ç®—å±æ€§**

åœ¨ `<script setup>` ä¸­ï¼Œæ·»åŠ ç”¨äºè·å–ç‰¹å®šæä¾›å•†èº«ä»½ä¿¡æ¯çš„è®¡ç®—å±æ€§ï¼š

```javascript
const googleIdentity = computed(() => identities.value.find(i => i.provider === 'google'))
```

**2. æ·»åŠ å¡ç‰‡æ¨¡æ¿**

åœ¨ `<template>` ä¸­æ·»åŠ å¯¹åº”çš„å¡ç‰‡ä»£ç ã€‚ä½ å¯ä»¥å¤åˆ¶ç°æœ‰çš„å¡ç‰‡ä»£ç å¹¶è¿›è¡Œä¿®æ”¹ï¼š

```vue
<!-- Google (å¦‚æœå¯ç”¨) -->
<div v-if="config.public.oauth.google" :class="itemClass">
  <div class="flex items-center gap-4">
    <div class="w-10 h-10 rounded-xl bg-zinc-950 flex items-center justify-center border border-zinc-800 text-zinc-100">
      <!-- å¼•å…¥ä½ ä¹‹å‰åˆ›å»ºçš„å›¾æ ‡ç»„ä»¶ -->
      <AuthProvidersGoogleIcon class="w-5 h-5" />
    </div>
    <div class="flex flex-col">
      <span class="text-sm font-bold text-zinc-200">Google</span>
      <span v-if="googleIdentity" class="text-[11px] text-blue-500 font-medium mt-0.5">{{ googleIdentity.providerUsername }}</span>
      <span v-else class="text-[11px] text-zinc-500 mt-0.5">æœªç»‘å®š</span>
    </div>
  </div>
  
  <button
      v-if="googleIdentity"
      class="..."
      @click="confirmUnbind('google')"
      :disabled="actionLoading"
  >
    {{ actionLoading ? 'å¤„ç†ä¸­...' : 'è§£ç»‘' }}
  </button>
  <button
      v-else
      class="..."
      @click="handleBind('google')"
      :disabled="actionLoading"
  >
    {{ actionLoading ? 'è·³è½¬ä¸­...' : 'ç«‹å³ç»‘å®š' }}
  </button>
</div>
```

**3. æ›´æ–°è§£ç»‘ç¡®è®¤é€»è¾‘**

ä¿®æ”¹ `confirmUnbind` æ–¹æ³•ï¼Œæ·»åŠ æ–°æä¾›å•†çš„æ˜¾ç¤ºåç§°æ˜ å°„ï¼š

```javascript
const confirmUnbind = (provider) => {
  let providerName = ''
  switch(provider) {
    case 'github': providerName = 'GitHub'; break;
    case 'casdoor': providerName = 'Casdoor'; break;
    case 'google': providerName = 'Google'; break; // <--- æ·»åŠ è¿™ä¸€è¡Œ
    default: providerName = provider;
  }
  // ...
}
```

---

### éŸ³æºæ‰©å±•å¼€å‘æŒ‡å—

VoiceHub é‡‡ç”¨äº†æ¨¡å—åŒ–çš„éŸ³æºæ¶æ„ï¼Œæ”¯æŒå¤šéŸ³æºæ•…éšœè½¬ç§»å’ŒåŠ¨æ€æ‰©å±•ã€‚å¼€å‘è€…å¯ä»¥è½»æ¾æ·»åŠ æ–°çš„éŸ³ä¹APIæºï¼Œæé«˜ç³»ç»Ÿçš„å¯ç”¨æ€§å’ŒéŸ³ä¹èµ„æºè¦†ç›–ç‡ã€‚

#### éŸ³æºæ¶æ„æ¦‚è¿°

éŸ³æºç³»ç»Ÿç”±ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶æ„æˆï¼š

- **éŸ³æºé…ç½®æ–‡ä»¶** (`app/utils/musicSources.ts`)ï¼šå®šä¹‰éŸ³æºæ¥å£ã€é…ç½®å’Œé»˜è®¤è®¾ç½®
- **éŸ³æºç®¡ç†å™¨** (`app/composables/useMusicSources.ts`)ï¼šæä¾›å¤šéŸ³æºæœç´¢ã€æ•…éšœè½¬ç§»å’ŒçŠ¶æ€ç›‘æ§
- **æ•°æ®è½¬æ¢å±‚**ï¼šç»Ÿä¸€ä¸åŒAPIçš„å“åº”æ ¼å¼
- **æ•…éšœè½¬ç§»æœºåˆ¶**ï¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¯ç”¨çš„å¤‡ç”¨éŸ³æº

#### éŸ³æºæ¥å£å®šä¹‰

æ¯ä¸ªéŸ³æºéƒ½å¿…é¡»å®ç°ä»¥ä¸‹æ¥å£ï¼š

```typescript
export interface MusicSource {
  /** éŸ³æºå”¯ä¸€æ ‡è¯† */
  id: string
  /** éŸ³æºæ˜¾ç¤ºåç§° */
  name: string
  /** APIåŸºç¡€URL */
  baseUrl: string
  /** ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ */
  priority: number
  /** æ˜¯å¦å¯ç”¨ */
  enabled: boolean
  /** è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼Œå¯é€‰ */
  timeout?: number
  /** è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼Œå¯é€‰ */
  headers?: Record<string, string>
}
```

#### å¦‚ä½•æ·»åŠ æ–°éŸ³æº

##### 1. åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ éŸ³æº

ç¼–è¾‘ `app/utils/musicSources.ts` æ–‡ä»¶ï¼Œåœ¨ `MUSIC_SOURCE_CONFIG.sources` æ•°ç»„ä¸­æ·»åŠ æ–°éŸ³æºï¼š

```
{
  id: 'my-new-source',
  name: 'æˆ‘çš„æ–°éŸ³æº',
  baseUrl: 'https://api.example.com',
  priority: 6, // è®¾ç½®ä¼˜å…ˆçº§
  enabled: true,
  timeout: 8000,
  headers: {
    // ...
  }
}
```

##### 2. å®ç°æ•°æ®è½¬æ¢å‡½æ•°

åœ¨ `app/composables/useMusicSources.ts` ä¸­çš„ `searchWithSource` å‡½æ•°é‡Œæ·»åŠ æ–°éŸ³æºçš„å¤„ç†é€»è¾‘ï¼š

```typescript
if (source.id === 'my-new-source') {
  // æ„å»ºAPIè¯·æ±‚URL
  url = `${source.baseUrl}/search?q=${encodeURIComponent(params.keywords)}&limit=${params.limit || 30}`
  
  // å®šä¹‰å“åº”æ•°æ®è½¬æ¢å‡½æ•°
  transformResponse = (data: any) => transformMyNewSourceResponse(data)
}
```

##### 3. ç¼–å†™æ•°æ®è½¬æ¢å‡½æ•°

åˆ›å»ºå¯¹åº”çš„æ•°æ®è½¬æ¢å‡½æ•°ï¼Œå°†APIå“åº”è½¬æ¢ä¸ºç»Ÿä¸€æ ¼å¼ï¼š

```typescript
const transformMyNewSourceResponse = (response: any): any[] => {
  if (!response || !response.data) {
    throw new Error('APIå“åº”æ•°æ®ä¸ºç©º')
  }
  
  return response.data.map((song: any) => ({
    id: song.songId,
    title: song.songName,
    artist: song.artistName || 'æœªçŸ¥è‰ºæœ¯å®¶',
    cover: song.albumCover,
    album: song.albumName,
    duration: song.duration,
    musicPlatform: 'my-platform',
    musicId: song.songId?.toString(),
    sourceInfo: {
      source: 'my-new-source',
      originalId: song.songId?.toString(),
      fetchedAt: new Date()
    }
  }))
}
```

#### éŸ³æºé…ç½®è¯´æ˜

##### ä¼˜å…ˆçº§è®¾ç½®
- **priority**: æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜
- ç³»ç»Ÿä¼šæŒ‰ä¼˜å…ˆçº§é¡ºåºå°è¯•éŸ³æº

##### è¶…æ—¶é…ç½®
- **timeout**: å•ä¸ªè¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
- å»ºè®®è®¾ç½®ä¸º5000-10000ms

##### è¯·æ±‚å¤´é…ç½®
- **headers**: è‡ªå®šä¹‰HTTPè¯·æ±‚å¤´
- å¸¸ç”¨äºè®¾ç½®User-Agentã€Authorizationç­‰

#### æ•°æ®è½¬æ¢å‡½æ•°ç¼–å†™

##### ç»Ÿä¸€æ•°æ®æ ¼å¼

æ‰€æœ‰éŸ³æºçš„æœç´¢ç»“æœéƒ½åº”è½¬æ¢ä¸ºä»¥ä¸‹ç»Ÿä¸€æ ¼å¼ï¼š

```
{
  id: string | number,           // æ­Œæ›²ID
  title: string,                 // æ­Œæ›²æ ‡é¢˜
  artist: string,                // è‰ºæœ¯å®¶ï¼ˆå¤šä¸ªè‰ºæœ¯å®¶ä½¿ç”¨ / åˆ†éš”ï¼‰
  cover?: string,                // å°é¢å›¾ç‰‡URL
  album?: string,                // ä¸“è¾‘åç§°
  duration?: number,             // æ—¶é•¿ï¼ˆç§’ï¼‰
  musicPlatform: string,         // éŸ³ä¹å¹³å°æ ‡è¯†
  musicId: string,               // éŸ³ä¹å¹³å°çš„æ­Œæ›²ID
  sourceInfo: {                  // éŸ³æºä¿¡æ¯
    source: string,              // éŸ³æºID
    originalId: string,          // åŸå§‹ID
    fetchedAt: Date             // è·å–æ—¶é—´
  }
}
```

**æ³¨æ„**ï¼šä¸ºäº†ç¡®ä¿æ­Œæ›²é‡å¤åŒ¹é…åˆ¤æ–­çš„å‡†ç¡®æ€§ï¼Œæ‰€æœ‰éŸ³æºè¿”å›çš„æ­Œæ‰‹ä¿¡æ¯éƒ½åº”ä½¿ç”¨ `/` ä½œä¸ºåˆ†éš”ç¬¦ã€‚ä¾‹å¦‚ï¼š
- å•ä¸ªæ­Œæ‰‹ï¼š`"å‘¨æ·±"`
- å¤šä¸ªæ­Œæ‰‹ï¼š`"é¢œäººä¸­/VaVaå¨ƒå¨ƒ"`

è¿™æ˜¯ä¸ºäº†ä¿è¯å„ä¸ªéŸ³æºçš„æ­Œæ‰‹æ ¼å¼ä¿æŒä¸€è‡´ï¼Œé¿å…å› åˆ†éš”ç¬¦ä¸åŒå¯¼è‡´çš„é‡å¤æ­Œæ›²åŒ¹é…å¤±æ•ˆã€‚

##### é”™è¯¯å¤„ç†

æ•°æ®è½¬æ¢å‡½æ•°åº”åŒ…å«å®Œå–„çš„é”™è¯¯å¤„ç†ï¼š

```typescript
const transformResponse = (response: any): any[] => {
  // æ£€æŸ¥å“åº”çŠ¶æ€
  if (response.code !== 200) {
    throw new Error(`APIé”™è¯¯: ${response.message} (code: ${response.code})`)
  }
  
  // æ£€æŸ¥æ•°æ®å­˜åœ¨æ€§
  if (!response.data || !Array.isArray(response.data)) {
    throw new Error('APIå“åº”æ•°æ®æ ¼å¼é”™è¯¯')
  }
  
  // è½¬æ¢æ•°æ®
  return response.data.map((item: any) => {
    // éªŒè¯å¿…è¦å­—æ®µ
    if (!item.id || !item.title) {
      console.warn('è·³è¿‡æ— æ•ˆæ­Œæ›²æ•°æ®:', item)
      return null
    }
    
    return {
      // ... è½¬æ¢é€»è¾‘
    }
  }).filter(Boolean) // è¿‡æ»¤æ‰nullå€¼
}
```

#### æ•…éšœè½¬ç§»æœºåˆ¶

ç³»ç»Ÿå†…ç½®äº†è‡ªåŠ¨æ•…éšœè½¬ç§»æœºåˆ¶ï¼š

##### å·¥ä½œåŸç†
1. **æŒ‰ä¼˜å…ˆçº§å°è¯•**ï¼šç³»ç»ŸæŒ‰priorityä»å°åˆ°å¤§çš„é¡ºåºå°è¯•éŸ³æº
2. **é”™è¯¯æ£€æµ‹**ï¼šå½“éŸ³æºè¯·æ±‚å¤±è´¥æ—¶ï¼Œè‡ªåŠ¨è®°å½•é”™è¯¯å¹¶å°è¯•ä¸‹ä¸€ä¸ªéŸ³æº
3. **çŠ¶æ€ç›‘æ§**ï¼šå®æ—¶ç›‘æ§å„éŸ³æºçš„å¯ç”¨æ€§å’Œå“åº”æ—¶é—´
4. **æ™ºèƒ½é‡è¯•**ï¼šæ”¯æŒé…ç½®é‡è¯•æ¬¡æ•°å’Œé‡è¯•é—´éš”

##### æ•…éšœè½¬ç§»é…ç½®

```typescript
export const MUSIC_SOURCE_CONFIG: MusicSourceConfig = {
  primarySource: 'vkeys',        // ä¸»éŸ³æºID
  enableFailover: true,          // å¯ç”¨æ•…éšœè½¬ç§»
  timeout: 10000,               // é»˜è®¤è¶…æ—¶æ—¶é—´
  retryAttempts: 2,             // é‡è¯•æ¬¡æ•°
  sources: [/* éŸ³æºåˆ—è¡¨ */]
}
```

#### å¼€å‘ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„éŸ³æºæ‰©å±•ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•æ·»åŠ ä¸€ä¸ªè™šæ„çš„"MusicAPI"éŸ³æºï¼š

##### 1. æ·»åŠ éŸ³æºé…ç½®

```
// app/utils/musicSources.ts
{
  id: 'music-api',
  name: 'MusicAPIéŸ³æº',
  baseUrl: 'https://api.musicapi.com/v1',
  priority: 4,
  enabled: true,
  timeout: 8000,
  headers: {
    'User-Agent': 'VoiceHub/1.0',
    'X-API-Key': 'your-api-key'
  }
}
```

##### 2. å®ç°æœç´¢é€»è¾‘

```typescript
// app/composables/useMusicSources.ts
if (source.id === 'music-api') {
  url = `${source.baseUrl}/search?query=${encodeURIComponent(params.keywords)}&limit=${params.limit || 30}&type=song`
  transformResponse = (data: any) => transformMusicApiResponse(data)
}
```

##### 3. æ•°æ®è½¬æ¢å‡½æ•°

```typescript
const transformMusicApiResponse = (response: any): any[] => {
  console.log('[transformMusicApiResponse] å¼€å§‹è½¬æ¢æ•°æ®:', response)
  
  if (!response || response.status !== 'success') {
    throw new Error(`MusicAPIé”™è¯¯: ${response.message || 'æœªçŸ¥é”™è¯¯'}`)
  }
  
  if (!response.results || !Array.isArray(response.results)) {
    throw new Error('MusicAPIå“åº”æ•°æ®æ ¼å¼é”™è¯¯')
  }
  
  return response.results.map((song: any) => {
    if (!song.id || !song.name) {
      console.warn('[transformMusicApiResponse] è·³è¿‡æ— æ•ˆæ­Œæ›²:', song)
      return null
    }
    
    return {
      id: song.id,
      title: song.name,
      artist: song.artists?.map((a: any) => a.name).join('/') || 'æœªçŸ¥è‰ºæœ¯å®¶',
      cover: song.album?.cover_url,
      album: song.album?.name,
      duration: song.duration_ms ? Math.floor(song.duration_ms / 1000) : undefined,
      musicPlatform: 'musicapi',
      musicId: song.id.toString(),
      sourceInfo: {
        source: 'music-api',
        originalId: song.id.toString(),
        fetchedAt: new Date(),
        // ä¿å­˜é¢å¤–ä¿¡æ¯ä¾›åç»­ä½¿ç”¨
        popularity: song.popularity,
        explicit: song.explicit
      }
    }
  }).filter(Boolean)
}
```

## éŸ³ä¹æœåŠ¡å…è´£å£°æ˜

VoiceHubæ˜¯ä¸€ä¸ªå¼€æºçš„æ ¡å›­å¹¿æ’­ç«™ç‚¹æ­Œç®¡ç†ç³»ç»Ÿï¼Œæœ¬é¡¹ç›®ï¼š

**ä¸æä¾›éŸ³ä¹å†…å®¹**ï¼š
- æœ¬ç³»ç»Ÿä¸å­˜å‚¨ã€ä¸æä¾›ä»»ä½•éŸ³ä¹æ–‡ä»¶
- ä¸æä¾›éŸ³ä¹ä¸‹è½½ã€ä¸Šä¼ æˆ–åˆ†äº«æœåŠ¡
- æ‰€æœ‰éŸ³ä¹å†…å®¹å‡æ¥è‡ªç¬¬ä¸‰æ–¹éŸ³ä¹å¹³å°

**ç¬¬ä¸‰æ–¹APIä½¿ç”¨**ï¼š
- æœ¬ç³»ç»Ÿä»…ä½¿ç”¨ç¬¬ä¸‰æ–¹APIå®ç°éŸ³ä¹æœç´¢å’Œè·å–æ’­æ”¾é“¾æ¥ç­‰åŠŸèƒ½
- éŸ³ä¹å†…å®¹çš„ç‰ˆæƒå½’åŸéŸ³ä¹å¹³å°å’Œç‰ˆæƒæ–¹æ‰€æœ‰
- ç”¨æˆ·æ’­æ”¾çš„éŸ³ä¹å†…å®¹å—ç›¸åº”éŸ³ä¹å¹³å°çš„æœåŠ¡æ¡æ¬¾çº¦æŸ

**æ³•å¾‹å£°æ˜**ï¼š
- å¦‚æœ‰ç‰ˆæƒæ–¹è®¤ä¸ºæœ¬ç³»ç»Ÿä¾µçŠ¯äº†å…¶æƒç›Šï¼Œè¯·è”ç³»æˆ‘ä»¬ï¼Œæˆ‘ä»¬å°†ç§¯æé…åˆå¤„ç†
- æœ¬ç³»ç»Ÿå¼€å‘è€…ä¸æ‰¿æ‹…å› ä½¿ç”¨ç¬¬ä¸‰æ–¹éŸ³ä¹æœåŠ¡è€Œäº§ç”Ÿçš„ä»»ä½•æ³•å¾‹è´£ä»»
- ç”¨æˆ·ä½¿ç”¨æœ¬ç³»ç»Ÿå³è¡¨ç¤ºç†è§£å¹¶åŒæ„ä¸Šè¿°æ¡æ¬¾

## è‡´è°¢

### UIè®¾è®¡

ç‰¹åˆ«æ„Ÿè°¢ [è¿‡å®¢æ˜¯ä¸ªé“æ†¨æ†¨](https://github.com/1811304592) ä¸ºæœ¬é¡¹ç›®æä¾›é¦–é¡µUIæ ·å¼è®¾è®¡

æ„Ÿè°¢ [Awesome Iwb](https://github.com/awesome-iwb) é¡¹ç›®æä¾›çš„ç»Ÿä¸€é®ç½©é£æ ¼çš„å›¾æ ‡

### è´¡çŒ®è€…

Thanks goes to these wonderful people:

[![Contributors](https://contrib.rocks/image?repo=laoshuikaixue/VoiceHub&repo=laoshuikaixue/VoiceHub-docs&repo=laoshuikaixue/VoiceHub-hmos)](https://github.com/laoshuikaixue/VoiceHub/graphs/contributors)

### å‚è€ƒé¡¹ç›®

æœ¬é¡¹ç›®åœ¨å¼€å‘è¿‡ç¨‹ä¸­å‚è€ƒå’Œä½¿ç”¨äº†ä»¥ä¸‹ä¼˜ç§€çš„å¼€æºé¡¹ç›®å’ŒAPIæœåŠ¡ï¼š

- [è½æœˆAPI](https://doc.vkeys.cn/api-doc/)
- [NeteaseCloudMusicApiEnhanced](https://github.com/NeteaseCloudMusicApiEnhanced/api-enhanced)
- [meting-api](https://github.com/injahow/meting-api)
- [lx-music-desktop](https://github.com/lyswhut/lx-music-desktop) (æœç´¢åŠŸèƒ½å‚è€ƒ)
- [the1068fm - æ·±ä¸­é£åå­è¡¿å¹¿æ’­ç«™ç‚¹æ­Œç³»ç»Ÿ](https://github.com/SMS-COSMO/the1068fm)
- [Sound-of-experiment - å®éªŒä¹‹å£°å¹¿æ’­ç«™ç‚¹æ­Œç³»ç»Ÿ](https://github.com/ljk743121/Sound-of-experiment) (å“”å“©å“”å“©éŸ³æºå‚è€ƒ)
- [official-website - Sparkinit](https://github.com/Sparkinit/official-website)

## è®¸å¯è¯

[GPL-3.0](LICENSE)

## æ˜Ÿæ ‡å†å²

<picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=laoshuikaixue/VoiceHub&type=Date&theme=dark" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=laoshuikaixue/VoiceHub&type=Date" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=laoshuikaixue/VoiceHub&type=Date" />
 </picture>

## å…¶ä»–

æœ¬é¡¹ç›®æœ‰å¯¹åº”çš„åŸç”Ÿé¸¿è’™ç‰ˆæœ¬ï¼šhttps://github.com/laoshuikaixue/VoiceHub-hmos

è¯¥é¡¹ç›®é€šè¿‡åˆ›æ–°çš„æ··åˆæ¶æ„è®¾è®¡ï¼Œå®ç°äº†Webç«¯VueéŸ³é¢‘æ’­æ”¾å™¨ä¸é¸¿è’™åŸç”Ÿç«¯çš„è·¨å¹³å°éŸ³é¢‘æ§åˆ¶åŒæ­¥

---

Powered By LaoShui @ 2025-2026
